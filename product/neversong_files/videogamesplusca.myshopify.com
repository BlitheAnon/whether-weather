!function(t){if(!t.minMaxify&&-1==location.href.indexOf("checkout.shopify")){var e=t.minMaxifyContext||{},n=t.minMaxify={shop:"videogamesplusca.myshopify.com",cart:null,cartLoadTryCount:0,customer:e.customer,feedback:function(t){if(0!=i.search(/\/(account|password|checkouts|cache|\d+\/)/)){var e=new XMLHttpRequest;e.open("POST","https://app.minmaxify.com/report"),e.send(location.protocol+"//"+n.shop+i+"\n"+t)}},guarded:function(t,e){return function(){try{var i=e&&e.apply(this,arguments),a=t.apply(this,arguments);return e?a||i:a}catch(t){console.error(t);var r=t.toString();-1==r.indexOf("Maximum call stack")&&n.feedback("ex\n"+(t.stack||"")+"\n"+r)}}}},i=t.location.pathname;n.guarded((function(){var e,a,r,c,u,s=t.jQuery,d=t.document,l={btnCheckout:"[name=checkout],[href='/checkout'],[type=submit][value=Checkout],[onclick='window.location\\=\\'\\/checkout\\''],form[action='/checkout'] [type=submit],.checkout_button,form[action='/cart'] [type=submit].button-cart-custom,.btn-checkout,.checkout-btn,.button-checkout,.rebuy-cart__checkout-button,.gokwik-checkout,.tdf_btn_ck,.sezzle-checkout-button",lblCheckout:"[name=checkout]",btnCartQtyAdjust:".cart-item-decrease,.cart-item-increase,.js--qty-adjuster,.js-qty__adjust,.minmaxify-quantity-button,.numberUpDown > *,.cart-item button.adjust,.cart-wrapper .quantity-selector__button,.cart .product-qty > .items,.cart__row [type=button],.cart-item-quantity button.adjust,.cart_items .js-change-quantity,.ajaxcart__qty-adjust,.cart-table-quantity button",divCheckout:".additional-checkout-buttons,.dynamic-checkout__content,.cart__additional_checkout,.additional_checkout_buttons,.paypal-button-context-iframe,.additional-checkout-button--apple-pay,.additional-checkout-button--google-pay",divDynaCheckout:"div.shopify-payment-button,.shopify-payment-button > div,#gokwik-buy-now",fldMin:"",fldQty:"input[name=quantity],[data-quantity-select]",fldCartQty:"input[name^='updates['],.cart__qty-input,[data-cart-item-quantity]",btnCartDrawer:"a[href='/cart'],.js-drawer-open-right",btnUpdate:"[type=submit][name=update],.cart .btn-update",btnQuickView:"button[data-quickshop-full], button[data-quickshop-slim],.quick_shop,.quick-add__submit,.quick-view-btn,.quick-product__btn,a.product-link,.open-quick-view,.product-listing__quickview-trigger,button[data-quickshop-button]",btnQuickViewDetail:".modal-content .product-title a,#sca-qv-detail,.fancybox-inner .view_product_info,product-info,.product-item-caption-desc a.list-icon,.product-detail .title > a,.view-details-btn,.product__section-details > .view-full,.product-section.is-modal,.product-content--media-position-"},p=0,m={name:""},f=2e4,y={NOT_VALID_MSG:"Order not valid",CART_UPDATE_MSG:"Cart needs to be updated",CART_AUTO_UPDATE:"Quantities have been changed, press OK to validate the cart.",CART_UPDATE_MSG2:'Cart contents have changed, you must click "Update cart" before proceeding.',VERIFYING_MSG:"Verifying",VERIFYING_EXPANDED:"Please wait while we verify your cart.",PREVENT_CART_UPD_MSG:"\n\n"};function h(){return(new Date).getTime()}var v=Object.assign||function(t,e){return Object.keys(o).forEach((function(n){t[n]=e[n]})),t};function b(t,e){try{setTimeout(t,e||0)}catch(n){e||t()}}function g(t){return t?"string"==typeof t?d.querySelectorAll(t):t.nodeType?[t]:t:[]}function k(t,e){var n,i=g(t);if(i&&e)for(n=0;n<i.length;++n)e(i[n]);return i}function x(t,e){var n=t&&d.querySelector(t);if(n)return e?"string"==typeof e?n[e]:e(n):n}function _(t,e){if(s)return s(t).trigger(e);k(t,(function(t){t[e]()}))}function w(t,e,n){try{if(s)return s(t).on(e,n)}catch(t){}k(t,(function(t){t.addEventListener(e,n)}))}function C(t,e){var n=d.createElement("div");n.innerHTML=t;var i=n.childNodes;if(i){if(!e)return i[0];for(;i.length;)e.appendChild(i[0]);return 1}}function M(t){var e=t.target;try{return(e.closest||e.matches).bind(e)}catch(t){}}function q(){}n.showMessage=function(t){if(j())return(n.closePopup||q)(),!0;var e=O.messages||O.getMessages();if(++p,t&&(n.prevented=h()),!n.showPopup||!n.showPopup(e[0],e.slice(1))){for(var i="",a=0;a<e.length;++a)i+=e[a]+"\n";alert(i),r&&_(l.btnUpdate,"click")}return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()),!1};var E='.minmaxify-p-bg { top: 0; left: 0; width: 100%; height: 100%; z-index: 2147483641; overflow: hidden; position: fixed; background: rgb(11, 11, 11, 0.8); opacity: 0.2; } .minmaxify-p-bg.minmaxify-a { transition: opacity 0.15s ease-out; opacity: 1; display: block; } \n.minmaxify-p-wrap { top: 0; left: 0; width: 100%; height: 100%; display: table; z-index: 2147483642; position: fixed; outline: none !important; -webkit-backface-visibility: hidden; pointer-events: none; }\n.minmaxify-p-wrap > div { display: table-cell; vertical-align: middle; }\n.minmaxify-p { opacity: .5; color: black; background-color: white; padding: 18px; max-width: 500px; margin: 18px auto; width: calc(100% - 36px); pointer-events: auto; border: solid white 1px; overflow: auto; max-height: 95vh; } .minmaxify-p.minmaxify-a { opacity: 1; transition: all 0.25s ease-in; border-width: 0px; }\n.minmaxify-ok { display: inline-block; padding: 8px 20px; margin: 0; line-height: 1.42; text-decoration: none; text-align: center; vertical-align: middle; white-space: nowrap; border: 1px solid transparent; border-radius: 2px; font-family: "Montserrat","HelveticaNeue","Helvetica Neue",sans-serif; font-weight: 400;font-size: 14px;text-transform: uppercase;transition:background-color 0.2s ease-out;background-color: #528ec1; color: white; min-width: unset; }\n.minmaxify-ok:after { content: "OK"; }\n.minmaxify-close { font-style: normal; font-size: 28px; font-family: Arial, Baskerville, monospace; overflow: visible; background: transparent; border: 0; -webkit-appearance: none; display: block; outline: none; padding: 0 0 0 10px; box-shadow: none; margin-top: -10px; opacity: .65; }\n.minmaxify-p button { user-select: none; -webkit-user-select: none; cursor: pointer; float:right; width: unset; }\n.minmaxify-close:hover, .minmaxify-close:focus { opacity: 1; }\n.minmaxify-p ul { padding-left: 2rem; margin-bottom: 2rem; }';function T(t){if(y.locales){var e=(y.locales[n.locale]||{})[t];if(void 0!==e)return e}return y[t]}var L,S={messages:[T("VERIFYING_EXPANDED")],equalTo:function(t){return this===t}},O=S;function A(t){return e?e.getItemLimits(n,t):{}}function P(){return e}function j(){return O.isOk&&!r&&P()||"force"==O.isOk||a}function D(){location.pathname!=i&&(i=location.pathname);try{if(P()&&!a){!function(){var t=n.cart&&n.cart.items;if(!t)return;k(l.fldCartQty,(function(e){for(var n=0;n<t.length;++n){var i=t[n],a=e.dataset;if(i.key==a.lineId||e.id&&-1!=e.id.search(new RegExp("updates(_large)?_"+i.id,"i"))||a.index==n+1){var r=A(i);r.min>1&&!r.combine&&(e.min=r.min),r.max&&(e.max=r.max),r.multiple&&!r.combine&&(e.step=r.multiple);break}}}))}(),z();var e=U();if(e){var r=x(l.fldQty);I(A(e),r)}}}catch(t){console.error(t)}return G(l.btnQuickView,"click",b.bind(t,n.updateQuickViewLimits,0)),t.sca_default_callback_function=n.updateQuickViewLimits,N(),Q(),!0}function I(e,n){function i(t,e){if(arguments.length<2)return n.getAttribute(t);null==e?n.removeAttribute(t):n.setAttribute(t,e)}var a=e.max||void 0,r=e.multiple,o=e.min;if((t.minmaxifyDisplayProductLimit||q)(e),n){var c=i("mm-max"),u=i("mm-step"),s=i("mm-min"),d=parseInt(n.max),l=parseInt(n.step),p=parseInt(n.min);stockMax=parseInt(i("mm-stock-max")),val=parseInt(n.value),(o!=s||o>p)&&((s?val==s||val==p:!val||val<o)&&(n.value=o),!e.combine&&o>1?i("min",o):s&&i("min",1),i("mm-min",o)),isNaN(stockMax)&&!c&&(stockMax=parseInt(i("data-max-quantity")||i("max")),i("mm-stock-max",stockMax)),!isNaN(stockMax)&&a&&a>stockMax&&(a=stockMax),(a!=c||isNaN(d)||d>a)&&(a?i("max",a):c&&i("max",null),i("mm-max",a)),(r!=u||r>1&&l!=r)&&(e.combine?u&&i("step",null):i("step",r),i("mm-step",r))}}function U(e){var n,a,r;if(e){var o=x(l.btnQuickViewDetail);if(o){var c=o.dataset;a=c.productUrl||c.url||o.href,r=c.productId||c.product,n=c.productHandle}}if(!n){if(!a)try{a=decodeURIComponent(i||location.href||"")}catch(t){a=""}if(!((a=a.split("/")).length>2&&"products"==a[a.length-2]))return;n=a[a.length-1]}var u=(t.ShopifyAnalytics||{}).meta||{},s={handle:n,sku:""},d=u.product,p=u.selectedVariantId;if(!d){var m=x("#ProductJson-product-template, .product-form > script, .product__quickview-wrapper > script.product-json, variant-selection");if(m)try{d=m._product||JSON.parse(m.dataset.product||m.textContent)}catch(t){}}if(d)!p&&e&&(p=x("variant-selection","variant"));else if(u.products&&e){var f,y=x("variant-radios"),h=u.products.mm_byVariantId,b=u.products.mm_byId,g=u.products;if(y&&!(f=y.currentVariant))try{f=JSON.parse(y.querySelector('script[type="application/json"]').textContent)[0]}catch(t){}if(f||r){if(!h){h=u.products.mm_byVariantId={},b=u.products.mm_byId={};for(var k=0;k<g.length;++k){var _=g[k],w=_.variants;b[_.id]=_;for(var C=0;C<w.length;++C)h[w[C].id]=_}}f?(p=f.id,d=v({variants:[f]},h[p])):d=b[r]}}if(d){s.product_description=d.description,s.product_type=d.type,s.vendor=d.vendor,s.price=d.price,s.product_title=d.title,s.product_id=d.id;var M=d.variants||[],q=M.length;if(p||1==q)for(k=0;k<q;++k){var E=M[k];if(1==q||E.id==p){s.variant_title=E.public_title,s.sku=E.sku,s.grams=E.weight,s.price=E.price||d.price,s.variant_id=E.id,s.name=E.name,s.product_title||(s.product_title=E.name);break}}}return s}function N(t,e,n){k(l.lblCheckout,(function(i){var a=null===t?i.minMaxifySavedLabel:t;i.minMaxifySavedLabel||(i.minMaxifySavedLabel=i.value||(i.innerText||i.textContent||"").trim()),void 0!==a&&(i.value=a,i.textContent&&!i.childElementCount&&(i.textContent=a));var r=i.classList;r&&e&&r.add(e),r&&n&&r.remove(n)}))}function V(t){"start"==t?(N(T("VERIFYING_MSG"),"btn--loading"),c||(c=h(),f&&b((function(){c&&h()-c>=f&&(O={isOk:"force"},V("stop"))}),f))):"stop"==t?(N(O.isOk?null:T("NOT_VALID_MSG"),0,"btn--loading"),c=0,(n.popupShown||q)()&&n.showMessage()):"changed"==t&&N(T("CART_UPDATE_MSG")),Q()}function Q(){k(l.divCheckout,(function(t){var e=t.style;j()?t.mm_hidden&&(e.display=t.mm_hidden,t.mm_hidden=!1):"none"!=e.display&&(t.mm_hidden=e.display||"block",e.display="none")})),(t.minmaxifyDisplayCartLimits||q)(!a&&O,r)}function R(t){var e=M(t);if(e){if(e(l.btnCheckout))return n.showMessage(t);e(l.btnCartQtyAdjust)&&n.onChange(t)}}function G(t,e,i,a){return k(t,(function(t){if(!t["mmBound_"+e]){t["mmBound_"+e]=!0;var r=t["on"+e];r&&a?t["on"+e]=n.guarded((function(t){!1!==i()?r.apply(this,arguments):t.preventDefault()})):w(t,e,n.guarded(i))}}))}function B(i){null==n.cart&&(n.cart=(t.Shopify||{}).cart||null);var a=n.cart&&n.cart.item_count&&(i||!p&&H());(D()||a||i)&&(P()&&n.cart?(O=e.validateCart(n),V("stop"),a&&(L&&!O.isOk&&!O.equalTo(L)&&d.body?n.showMessage():!p&&H()&&b(n.showMessage,100)),L=O):(O=S,V("start"),n.cart||X()))}function H(){return 0==i.indexOf("/cart")}function z(){k(l.divDynaCheckout,(function(t){t.style.display="none"}))}function J(t,e,i,a){if(e&&"function"==typeof e.search&&4==t.readyState&&"blob"!=t.responseType){var o,c;try{if(200!=t.status)"POST"==i&&r&&-1!=e.search(/\/cart(\/update|\/change|\/clear|\.js)/)&&(r=!1,B());else{if("GET"==i&&-1!=e.search(/\/cart($|\.js|\.json|\?view=)/)&&-1==e.search(/\d\d\d/))return;var u=(o=t.response||t.responseText||"").indexOf&&o.indexOf("{")||0;-1!=e.search(/\/cart(\/update|\/change|\/clear|\.js)/)||"/cart"==e&&0==u?(-1!=e.indexOf("callback=")&&o.substring&&(o=o.substring(u,o.length-1)),c=n.handleCartUpdate(o,-1!=e.indexOf("cart.js")?"get":"update",a)):-1!=e.indexOf("/cart/add")?c=n.handleCartUpdate(o,"add",a):"GET"!=i||H()&&"/cart"!=e||(B(),c=1)}}catch(t){if(!o||0==t.toString().indexOf("SyntaxError"))return;console.error(t),n.feedback("ex\n"+(t.stack||"")+"\n"+t.toString()+"\n"+e)}c&&F()}}function F(){for(var t=500;t<=2e3;t+=500)b(D,t)}function X(){var t=new XMLHttpRequest,e="/cart.js?_="+h();t.open("GET",e),t.mmUrl=null,t.onreadystatechange=function(){J(t,e)},t.send(),b((function(){null==n.cart&&n.cartLoadTryCount++<60&&X()}),5e3+500*n.cartLoadTryCount)}n.getLimitsFor=A,n.checkLimits=j,n.onChange=n.guarded((function(){V("changed"),r=!0,O=H()&&x(l.btnUpdate)?{messages:[T("CART_AUTO_UPDATE")]}:{messages:[T("CART_UPDATE_MSG2")]},Q()})),n.updateQuickViewLimits=function(t){if(P()){var e=U(!0);e?(H()||k(".shopify-payment-button, .shopify-payment-button > div",(function(t){t.style.display="none"})),b((function(){var t=A(e),n=function(){var t=s&&s("input[name=quantity]:visible")||[];return t.length?t[0]:x(l.fldQty)}();n&&(I(t,n),z())}),300)):t||b((function(){n.updateQuickViewLimits(1)}),500)}},t.getLimits=B,t.mmIsEnabled=j,n.handleCartUpdate=function(t,e,i){"string"==typeof t&&(t=JSON.parse(t));var a="get"==e&&JSON.stringify(t);if("get"!=e||u!=a){if("update"==e)n.cart=t;else if("add"!=e){if(i&&!t.item_count&&n.cart)return;n.cart=t}else{var o=t.items||[t];t=n.cart;for(var c=0;c<o.length;++c){var s=o[c];t&&t.items||(t=n.cart={total_price:0,total_weight:0,items:[],item_count:0}),t.total_price+=s.line_price,t.total_weight+=s.grams*s.quantity,t.item_count+=s.quantity;for(var d=0;d<t.items.length;++d){var l=t.items[d];if(l.id==s.id){t.total_price-=l.line_price,t.total_weight-=l.grams*l.quantity,t.item_count-=l.quantity,t.items[d]=s,s=0;break}}s&&t.items.unshift(s)}t.items=t.items.filter((function(t){return t.quantity>0})),a=JSON.stringify(t)}return u=a,r=!1,B(!0),1}if(!O.isOk)return D(),1};var Y,K=t.XMLHttpRequest.prototype,$=K.open,W=K.send;function Z(){s||(s=t.jQuery);var e=t.Shopify||{},i=e.shop||location.host;if(m=e.theme||m,a=!1,i==n.shop){n.locale=e.locale,D(),G(l.btnCartDrawer,"click",F),n.showPopup||C('<style type="text/css" minmaxify>'+E+"</style>",d.head)&&(n.showPopup=function(t,e){for(var i='<button title="Close (Esc)" type="button" class="minmaxify-close" aria-label="Close">&times;</button>'+t.replace(new RegExp("\n","g"),"<br/>")+"<ul>",a=0;a<e.length;++a){var r=e[a];r&&(i+="<li>"+r+"</li>")}i+='</ul><div><button class="minmaxify-ok"></button><div style="display:table;clear:both;"></div></div>';var o=x("div.minmaxify-p");if(o)o.innerHtml=i;else{var c=document.body;c.insertBefore(C("<div class='minmaxify-p-bg'></div>"),c.firstChild),c.insertBefore(C("<div class='minmaxify-p-wrap'><div><div role='dialog' aria-modal='true' aria-live='assertive' tabindex='1' class='minmaxify-p'>"+i+"</div></div></div>"),c.firstChild),w(".minmaxify-ok","click",(function(){n.closePopup(1)})),w(".minmaxify-close, .minmaxify-p-bg","click",(function(){n.closePopup()})),b(k.bind(n,".minmaxify-p-bg, .minmaxify-p",(function(t){t.classList.add("minmaxify-a")})))}return 1},n.closePopup=function(t){k(".minmaxify-p-wrap, .minmaxify-p-bg",(function(t){t.parentNode.removeChild(t)})),r&&t&&_(l.btnUpdate,"click")},n.popupShown=function(){return g("div.minmaxify-p").length},d.addEventListener("keyup",(function(t){27===t.keyCode&&n.closePopup()}))),tt();var o=document.getElementsByTagName("script");for(let t=0;t<o.length;++t){var c=o[t];c.src&&-1!=c.src.indexOf("trekkie.storefront")&&!c.minMaxify&&(c.minMaxify=1,c.addEventListener("load",tt))}}else a=!0}function tt(){var e=t.trekkie||(t.ShopifyAnalytics||{}).lib||{},i=e.track;i&&!i.minMaxify&&(e.track=function(t){return"Viewed Product Variant"==t&&b(D),i.apply(this,arguments)},e.track.minMaxify=1,e.ready&&(e.ready=n.guarded(B,e.ready)));var a=t.subscribe;"function"!=typeof a||a.mm_quTracked||(a.mm_quTracked=1,onQtyUpdate=n.guarded((function(){D(),b(n.updateQuickViewLimits)})),a("variant-change",onQtyUpdate),a("quantity-update",onQtyUpdate))}n.initCartValidator=n.guarded((function(t){e||(e=t,a||B(!0))})),K.open=function(t,e,n,i,a){return this.mmMethod=t,this.mmUrl=e,$.apply(this,arguments)},K.send=function(t){var e=this;return e.addEventListener?e.addEventListener("readystatechange",(function(t){J(e,e.mmUrl,e.mmMethod)})):e.onreadystatechange=n.guarded((function(){J(e,e.mmUrl)}),e.onreadystatechange),W.apply(e,arguments)},(Y=t.fetch)&&!Y.minMaxify&&(t.fetch=function(t,e){var i,a=(e||t||{}).method||"GET";return i=Y.apply(this,arguments),-1!=(t=((t||{}).url||t||"").toString()).search(/\/cart(\/|\.js)/)&&(i=i.then((function(e){try{var i=n.guarded((function(n){e.readyState=4,e.responseText=n,J(e,t,a,!0)}));e.ok?e.clone().text().then(i):i()}catch(t){}return e}))),i},t.fetch.minMaxify=1),d.addEventListener("mousedown",n.guarded(R),!0);try{d.addEventListener("touchstart",n.guarded(R),{capture:!0,passive:!1})}catch(t){}d.addEventListener("click",n.guarded(R),!0),d.addEventListener("keydown",n.guarded((function(t){var e=t.key,i=M(t);i&&i(l.fldCartQty)&&(e>=0&&e<=9||-1!=["Delete","Backspace"].indexOf(e))&&n.onChange(t)}))),d.addEventListener("change",n.guarded((function(t){var e=M(t);e&&e(l.fldCartQty)&&n.onChange(t)})));var et=d.createElement("script");et&&(et.src="https://limits.minmaxify.com/fetch-js/videogamesplusca.myshopify.com?t=20250124165910&callback=minMaxify.initCartValidator",d.head.appendChild(et),d.addEventListener("DOMContentLoaded",n.guarded((function(){Z(),a||(H()&&b(B),(t.booster||t.BoosterApps)&&s&&s.fn.ajaxSuccess&&s(d).ajaxSuccess((function(t,e,n){n&&J(e,n.url,n.type)})))}))),Z())}))()}}(window);