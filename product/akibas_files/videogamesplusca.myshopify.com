!function(t){if(!t.minMaxify&&-1==location.href.indexOf("checkout.shopify")){var e=t.minMaxifyContext||{},n=t.minMaxify={shop:"videogamesplusca.myshopify.com",cart:null,cartLoadTryCount:0,customer:e.customer,feedback:function(t){if(0!=i.search(/\/(account|password|checkouts|cache|pages|\d+\/)/)){var e=new XMLHttpRequest;e.open("POST","https://app.minmaxify.com/report"),e.send(location.protocol+"//"+n.shop+i+"\n"+t)}},guarded:function(t,e){return function(){try{var i=e&&e.apply(this,arguments),a=t.apply(this,arguments);return e?a||i:a}catch(t){console.error(t);var r=t.toString();-1==r.indexOf("Maximum call stack")&&n.feedback("ex\n"+(t.stack||"")+"\n"+r)}}}},i=t.location.pathname;n.guarded((function(){var e,a,r,c,u,s=t.jQuery,d=t.document,l={btnCheckout:"[name=checkout],[href='/checkout'],[type=submit][value=Checkout],[onclick='window.location\\=\\'\\/checkout\\''],form[action='/checkout'] [type=submit],.checkout_button,form[action='/cart'] [type=submit].button-cart-custom,.btn-checkout,.checkout-btn,.button-checkout,.rebuy-cart__checkout-button,.gokwik-checkout,.tdf_btn_ck,.sezzle-checkout-button",lblCheckout:"[name=checkout]",btnCartQtyAdjust:".cart-item-decrease,.cart-item-increase,.js--qty-adjuster,.js-qty__adjust,.minmaxify-quantity-button,.numberUpDown > *,.cart-item button.adjust,.cart-wrapper .quantity-selector__button,.cart .product-qty > .items,.cart__row [type=button],.cart-item-quantity button.adjust,.cart_items .js-change-quantity,.ajaxcart__qty-adjust,.cart-table-quantity button",divCheckout:".additional-checkout-buttons,.dynamic-checkout__content,.cart__additional_checkout,.additional_checkout_buttons,.paypal-button-context-iframe,.additional-checkout-button--apple-pay,.additional-checkout-button--google-pay",divDynaCheckout:"div.shopify-payment-button,.shopify-payment-button > div,#gokwik-buy-now",fldMin:"",fldQty:"input[name=quantity],[data-quantity-select]",fldCartQty:"input[name^='updates['],.cart__qty-input,[data-cart-item-quantity]",btnCartDrawer:"a[href='/cart'],.js-drawer-open-right",btnUpdate:"[type=submit][name=update],.cart .btn-update",btnQuickView:"button[data-quickshop-full], button[data-quickshop-slim],.quick_shop,.quick-add__submit,.quick-view-btn,.quick-product__btn,a.product-link,.open-quick-view,.product-listing__quickview-trigger,button[data-quickshop-button]",btnQuickViewDetail:'.modal-content .product-title a,#sca-qv-detail,.fancybox-inner .view_product_info,product-info,.product-item-caption-desc a.list-icon,.product-detail .title > a,.view-details-btn,.product__section-details > .view-full,.product-section.is-modal,.product-content--media-position-,.js-quick-shop[style="display: inline-block;"] .product_name a'},p=0,m={name:""},f=2e4,y={NOT_VALID_MSG:"Order not valid",CART_UPDATE_MSG:"Cart needs to be updated",CART_AUTO_UPDATE:"Quantities have been changed, press OK to validate the cart.",CART_UPDATE_MSG2:'Cart contents have changed, you must click "Update cart" before proceeding.',VERIFYING_MSG:"Verifying",VERIFYING_EXPANDED:"Please wait while we verify your cart.",PREVENT_CART_UPD_MSG:"\n\n"};function h(){return(new Date).getTime()}var v=Object.assign||function(t,e){return Object.keys(o).forEach((function(n){t[n]=e[n]})),t};function g(t,e){try{setTimeout(t,e||0)}catch(n){e||t()}}function b(t){return t?"string"==typeof t?d.querySelectorAll(t):t.nodeType?[t]:t:[]}function x(t,e){var n,i=b(t);if(i&&e)for(n=0;n<i.length;++n)e(i[n]);return i}function k(t,e){var n=t&&d.querySelector(t);if(n)return e?"string"==typeof e?n[e]:e(n):n}function _(t,e){if(s)return s(t).trigger(e);x(t,(function(t){t[e]()}))}function w(t,e,n){try{if(s)return s(t).on(e,n)}catch(t){}x(t,(function(t){t.addEventListener(e,n)}))}function C(t,e){try{var n=d.createElement("template");n.innerHTML=t;var i=n.content.childNodes;if(i){if(!e)return i[0];for(;i.length;)e.appendChild(i[0]);return 1}}catch(t){console.error(t)}}function M(t){var e=t.target;try{return(e.closest||e.matches).bind(e)}catch(t){}}function q(){}n.showMessage=function(t){if(D())return(n.closePopup||q)(),!0;var e=P.messages||P.getMessages();if(++p,t&&(n.prevented=h()),!n.showPopup||!n.showPopup(e[0],e.slice(1))){for(var i="",a=0;a<e.length;++a)i+=e[a]+"\n";alert(i),r&&_(l.btnUpdate,"click")}return t&&(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()),!1};var E="top: 0; left: 0; width: 100%; height: 100%; position: fixed;",T=".minmaxify-p-bg {"+E+" z-index: 2147483641; overflow: hidden; background: #0B0B0BCC; opacity: 0.2;} .minmaxify-p-bg.minmaxify-a {transition: opacity 0.15s ease-out; opacity: 1; display: block;} .minmaxify-p-wrap {"+E+' display: table; z-index: 2147483642; outline: none !important; pointer-events: none;} .minmaxify-p-wrap > div {display: table-cell; vertical-align: middle;} .minmaxify-dlg {padding:0px; margin:auto; border: 0px;} .minmaxify-dlg::backdrop {background:#0B0B0BBB;} .minmaxify-p {opacity: .5; color: black; background-color: white; padding: 18px; max-width: 500px; margin: 18px auto; width: calc(100% - 36px); pointer-events: auto; border: solid white 1px; overflow: auto; max-height: 95vh;} dialog > .minmaxify-p {margin:auto; width:100%;} .minmaxify-p.minmaxify-a {opacity: 1; transition: all 0.25s ease-in; border-width: 0px;} .minmaxify-ok {display: inline-block; padding: 8px 20px; margin: 0; line-height: 1.42; text-decoration: none; text-align: center; vertical-align: middle; white-space: nowrap; border: 1px solid transparent; border-radius: 2px; font-family: "Montserrat","Helvetica Neue",sans-serif; font-weight: 400;font-size: 14px;text-transform: uppercase;transition:background-color 0.2s ease-out;background-color: #528ec1; color: white; min-width: unset;} .minmaxify-ok:after {content: "OK";} .minmaxify-close {font-style: normal; font-size: 28px; font-family: monospace; overflow: visible; background: transparent; border: 0; appearance: none; display: block; outline: none; padding: 0px; box-shadow: none; margin: -10px -5px 0 0; opacity: .65;} .minmaxify-p button {user-select: none; cursor: pointer; float:right; width: unset;} .minmaxify-close:hover, .minmaxify-close:focus {opacity: 1;} .minmaxify-p ul {padding-left: 2rem; margin-bottom: 2rem;}';function L(t){if(y.locales){var e=(y.locales[n.locale]||{})[t];if(void 0!==e)return e}return y[t]}var S,O={messages:[L("VERIFYING_EXPANDED")],equalTo:function(t){return this===t}},P=O;function j(t){return e?e.getItemLimits(n,t):{}}function A(){return e}function D(){return P.isOk&&!r&&A()||"force"==P.isOk||a}function I(){location.pathname!=i&&(i=location.pathname);try{if(A()&&!a){!function(){var t=n.cart&&n.cart.items;if(!t)return;x(l.fldCartQty,(function(e){for(var n=0;n<t.length;++n){var i=t[n],a=e.dataset;if(i.key==a.lineId||e.id&&-1!=e.id.search(new RegExp("updates(_large)?_"+i.id,"i"))||(a.cartLine||a.index)==n+1){var r=j(i);r.min>1&&!r.combine&&(e.min=r.min),r.max&&(e.max=r.max),r.multiple&&!r.combine&&(e.step=r.multiple);break}}}))}(),J();var e=N();if(e){var r=k(l.fldQty);U(j(e),r)}}}catch(t){console.error(t)}return B(l.btnQuickView,"click",g.bind(t,n.updateQuickViewLimits,0)),t.sca_default_callback_function=n.updateQuickViewLimits,V(),R(),!0}function U(e,n){function i(t,e){if(arguments.length<2)return n.getAttribute(t);null==e?n.removeAttribute(t):n.setAttribute(t,e)}var a=e.max||void 0,r=e.multiple,o=e.min;if((t.minmaxifyDisplayProductLimit||q)(e),n){var c=i("mm-max"),u=i("mm-step"),s=i("mm-min"),d=parseInt(n.max),l=parseInt(n.step),p=parseInt(n.min);stockMax=parseInt(i("mm-stock-max")),val=parseInt(n.value),(o!=s||o>p)&&((s?val==s||val==p:!val||val<o)&&(n.value=o),!e.combine&&o>1?i("min",o):s&&i("min",1),i("mm-min",o)),isNaN(stockMax)&&!c&&(stockMax=parseInt(i("data-max-quantity")||i("max")),i("mm-stock-max",stockMax)),!isNaN(stockMax)&&a&&a>stockMax&&(a=stockMax),(a!=c||isNaN(d)||d>a)&&(a?i("max",a):c&&i("max",null),i("mm-max",a)),(r!=u||r>1&&l!=r)&&(e.combine?u&&i("step",null):i("step",r),i("mm-step",r))}}function N(e){var n,a,r;if(e){var o=k(l.btnQuickViewDetail);if(o){var c=o.dataset;a=c.productUrl||c.url||o.href,r=c.productId||c.product,n=c.productHandle}}if(!n){if(!a)try{a=decodeURIComponent(i||location.href||"")}catch(t){a=""}if(!((a=a.split("/")).length>2&&"products"==a[a.length-2]))return;n=a[a.length-1]}var u=(t.ShopifyAnalytics||{}).meta||{},s={handle:n,sku:""},d=u.product,p=u.selectedVariantId;if(!d){var m=k("#ProductJson-product-template, .product-form > script, .product__quickview-wrapper > script.product-json, variant-selection");if(m)try{d=m._product||JSON.parse(m.dataset.product||m.textContent)}catch(t){}}if(d)!p&&e&&(p=k("variant-selection","variant"));else if(u.products&&e){var f,y=k("variant-radios"),h=u.products.mm_byVariantId,g=u.products.mm_byId,b=u.products;if(y&&!(f=y.currentVariant))try{f=JSON.parse(y.querySelector('script[type="application/json"]').textContent)[0]}catch(t){}if(f||r){if(!h){h=u.products.mm_byVariantId={},g=u.products.mm_byId={};for(var x=0;x<b.length;++x){var _=b[x],w=_.variants;g[_.id]=_;for(var C=0;C<w.length;++C)h[w[C].id]=_}}f?(p=f.id,d=v({variants:[f]},h[p])):d=g[r]}}if(d){s.product_description=d.description,s.product_type=d.type,s.vendor=d.vendor,s.price=d.price,s.product_title=d.title,s.product_id=d.id;var M=d.variants||[],q=M.length;if(p||1==q)for(x=0;x<q;++x){var E=M[x];if(1==q||E.id==p){s.variant_title=E.public_title,s.sku=E.sku,s.grams=E.weight,s.price=E.price||d.price,s.variant_id=E.id,s.name=E.name,s.product_title||(s.product_title=E.name);break}}}return s}function V(t,e,n){x(l.lblCheckout,(function(i){var a=null===t?i.minMaxifySavedLabel:t;i.minMaxifySavedLabel||(i.minMaxifySavedLabel=i.value||(i.innerText||i.textContent||"").trim()),void 0!==a&&(i.value=a,i.textContent&&!i.childElementCount&&(i.textContent=a));var r=i.classList;r&&e&&r.add(e),r&&n&&r.remove(n)}))}function Q(t){"start"==t?(V(L("VERIFYING_MSG"),"btn--loading"),c||(c=h(),f&&g((function(){c&&h()-c>=f&&(P={isOk:"force"},Q("stop"))}),f))):"stop"==t?(V(P.isOk?null:L("NOT_VALID_MSG"),0,"btn--loading"),c=0,(n.popupShown||q)()&&g(n.showMessage)):"changed"==t&&V(L("CART_UPDATE_MSG")),R()}function R(){x(l.divCheckout,(function(t){var e=t.style;D()?t.mm_hidden&&(e.display=t.mm_hidden,t.mm_hidden=!1):"none"!=e.display&&(t.mm_hidden=e.display||"block",e.display="none")})),(t.minmaxifyDisplayCartLimits||q)(!a&&P,r)}function G(t){var e=M(t);if(e){if(e(l.btnCheckout))return n.showMessage(t);e(l.btnCartQtyAdjust)&&n.onChange(t)}}function B(t,e,i,a){return x(t,(function(t){if(!t["mmBound_"+e]){t["mmBound_"+e]=!0;var r=t["on"+e];r&&a?t["on"+e]=n.guarded((function(t){!1!==i()?r.apply(this,arguments):t.preventDefault()})):w(t,e,n.guarded(i))}}))}function H(i){null==n.cart&&(n.cart=(t.Shopify||{}).cart||null);var a=n.cart&&n.cart.item_count&&(i||!p&&z());(I()||a||i)&&(A()&&n.cart?(P=e.validateCart(n),Q("stop"),a&&(S&&!P.isOk&&!P.equalTo(S)&&d.body?n.showMessage():!p&&z()&&g(n.showMessage,100)),S=P):(P=O,Q("start"),n.cart||Y()))}function z(){let t=i.length-5;return t<4&&i.indexOf("/cart")==t}function J(){x(l.divDynaCheckout,(function(t){t.style.display="none"}))}function F(t,e,i,a){if(e&&"function"==typeof e.search&&4==t.readyState&&"blob"!=t.responseType){var o,c;try{if(200!=t.status)"POST"==i&&-1!=e.search(/\/cart(\/update|\/change|\/clear|\.js)/)&&(422==t.status?Y():r&&(r=!1,H()));else{if("GET"==i&&-1!=e.search(/\/cart($|\.js|\.json|\?view=)/)&&-1==e.search(/\d\d\d/))return;var u=(o=t.response||t.responseText||"").indexOf&&o.indexOf("{")||0;-1!=e.search(/\/cart(\/update|\/change|\/clear|\.js)/)||"/cart"==e&&0==u?(-1!=e.indexOf("callback=")&&o.substring&&(o=o.substring(u,o.length-1)),c=n.handleCartUpdate(o,-1!=e.indexOf("cart.js")?"get":"update",a)):-1!=e.indexOf("/cart/add")?c=n.handleCartUpdate(o,"add",a):"GET"!=i||z()&&"/cart"!=e||(H(),c=1)}}catch(t){if(!o||0==t.toString().indexOf("SyntaxError"))return;console.error(t),n.feedback("ex\n"+(t.stack||"")+"\n"+t.toString()+"\n"+e)}c&&X()}}function X(){for(var t=500;t<=2e3;t+=500)g(I,t)}function Y(){var t=new XMLHttpRequest,e="/cart.js?_="+h();t.open("GET",e),t.mmUrl=null,t.onreadystatechange=function(){F(t,e)},t.send(),g((function(){null==n.cart&&n.cartLoadTryCount++<60&&Y()}),5e3+500*n.cartLoadTryCount)}n.getLimitsFor=j,n.checkLimits=D,n.onChange=n.guarded((function(){Q("changed"),r=!0,P=z()&&k(l.btnUpdate)?{messages:[L("CART_AUTO_UPDATE")]}:{messages:[L("CART_UPDATE_MSG2")]},R()})),n.updateQuickViewLimits=function(t){if(A()){var e=N(!0);e?(z()||x(".shopify-payment-button, .shopify-payment-button > div",(function(t){t.style.display="none"})),g((function(){var t=j(e),n=function(){var t=s&&s("input[name=quantity]:visible")||[];return t.length?t[0]:k(l.fldQty)}();n&&(U(t,n),J())}),300)):t||g((function(){n.updateQuickViewLimits(1)}),500)}},t.getLimits=H,t.mmIsEnabled=D,n.handleCartUpdate=function(t,e,i){"string"==typeof t&&(t=JSON.parse(t));var a="get"==e&&JSON.stringify(t);if("get"!=e||u!=a){if("update"==e)n.cart=t;else if("add"!=e){if(i&&!t.item_count&&n.cart)return;n.cart=t}else{var o=t.items||[t];t=n.cart;for(var c=0;c<o.length;++c){var s=o[c];t&&t.items||(t=n.cart={total_price:0,total_weight:0,items:[],item_count:0}),t.total_price+=s.line_price,t.total_weight+=s.grams*s.quantity,t.item_count+=s.quantity;for(var d=0;d<t.items.length;++d){var l=t.items[d];if(l.id==s.id){t.total_price-=l.line_price,t.total_weight-=l.grams*l.quantity,t.item_count-=l.quantity,t.items[d]=s,s=0;break}}s&&t.items.unshift(s)}t.items=t.items.filter((function(t){return t.quantity>0})),a=JSON.stringify(t)}return u=a,r=!1,H(!0),1}if(!P.isOk)return I(),1};var K,$=t.XMLHttpRequest.prototype,W=$.open,Z=$.send;function tt(){s||(s=t.jQuery);var e=t.Shopify||{},i=e.shop||location.host;if(m=e.theme||m,a=!1,i==n.shop){var o;n.locale=e.locale,I(),B(l.btnCartDrawer,"click",X),n.showPopup||C('<style type="text/css" minmaxify>'+T+"</style>",d.head)&&(n.showPopup=function(t,e){for(var i='<button title="Close (Esc)" type="button" class="minmaxify-close" aria-label="Close">&times;</button>'+t.replace(new RegExp("\n","g"),"<br/>")+"<ul>",a=0;a<e.length;++a){var r=e[a];r&&(i+="<li>"+r+"</li>")}i+='</ul><div><button class="minmaxify-ok"></button><div style="display:table;clear:both;"></div></div>';var c=k("div.minmaxify-p");if(c)c.innerHTML=i,o&&!o.open&&o.showModal();else{var u=d.body;(o=d.createElement("dialog")).showModal?(o.className="minmaxify-dlg",o.innerHTML="<div class='minmaxify-p minmaxify-a'>"+i+"</div>",u.appendChild(o),o.showModal(),w(o,"click",(function(t){var e=M(t);e&&!e(".minmaxify-p")&&n.closePopup()}))):(o=0,u.insertBefore(C("<div class='minmaxify-p-bg'></div>"),u.firstChild),u.insertBefore(C("<div class='minmaxify-p-wrap'><div><div role='dialog' aria-modal='true' aria-live='assertive' tabindex='1' class='minmaxify-p'>"+i+"</div></div></div>"),u.firstChild),g(x.bind(n,".minmaxify-p-bg, .minmaxify-p",(function(t){t.classList.add("minmaxify-a")}))))}return w(".minmaxify-ok","click",(function(){n.closePopup(1)})),w(".minmaxify-close, .minmaxify-p-bg","click",(function(){n.closePopup()})),1},n.closePopup=function(t){o?o.close():x(".minmaxify-p-wrap, .minmaxify-p-bg",(function(t){t.parentNode.removeChild(t)})),r&&t&&_(l.btnUpdate,"click")},n.popupShown=function(){return o?o.open:b("div.minmaxify-p").length},d.addEventListener("keyup",(function(t){27===t.keyCode&&n.closePopup()}))),et();var c=document.getElementsByTagName("script");for(let t=0;t<c.length;++t){var u=c[t];u.src&&-1!=u.src.indexOf("trekkie.storefront")&&!u.minMaxify&&(u.minMaxify=1,u.addEventListener("load",et))}}else a=!0}function et(){var e=t.trekkie||(t.ShopifyAnalytics||{}).lib||{},i=e.track;i&&!i.minMaxify&&(e.track=function(t){return"Viewed Product Variant"==t&&g(I),i.apply(this,arguments)},e.track.minMaxify=1,e.ready&&(e.ready=n.guarded(H,e.ready)));var a=t.subscribe;"function"!=typeof a||a.mm_quTracked||(a.mm_quTracked=1,onQtyUpdate=n.guarded((function(){I(),g(n.updateQuickViewLimits)})),a("variant-change",onQtyUpdate),a("quantity-update",onQtyUpdate))}n.initCartValidator=n.guarded((function(t){e||(e=t,a||H(!0))})),$.open=function(t,e,n,i,a){return this.mmMethod=t,this.mmUrl=e,W.apply(this,arguments)},$.send=function(t){var e=this;return e.addEventListener?e.addEventListener("readystatechange",(function(t){F(e,e.mmUrl,e.mmMethod)})):e.onreadystatechange=n.guarded((function(){F(e,e.mmUrl)}),e.onreadystatechange),Z.apply(e,arguments)},(K=t.fetch)&&!K.minMaxify&&(t.fetch=function(t,e){var i,a=(e||t||{}).method||"GET";return i=K.apply(this,arguments),-1!=(t=((t||{}).url||t||"").toString()).search(/\/cart(\/|\.js)/)&&(i=i.then((function(e){try{var i=n.guarded((function(n){e.readyState=4,e.responseText=n,F(e,t,a,!0)}));e.ok?e.clone().text().then(i):i()}catch(t){}return e}))),i},t.fetch.minMaxify=1),t.addEventListener("mousedown",n.guarded(G),!0);try{t.addEventListener("touchstart",n.guarded(G),{capture:!0,passive:!1})}catch(t){}t.addEventListener("click",n.guarded(G),!0),t.addEventListener("keydown",n.guarded((function(t){var e=t.key,i=M(t);i&&i(l.fldCartQty)&&(e>=0&&e<=9||-1!=["Delete","Backspace"].indexOf(e))&&n.onChange(t)}))),t.addEventListener("change",n.guarded((function(t){var e=M(t);e&&e(l.fldCartQty)&&n.onChange(t)})));var nt=d.createElement("script");nt&&(nt.src="https://limits.minmaxify.com/fetch-js/videogamesplusca.myshopify.com?t=20250716192311&callback=minMaxify.initCartValidator",d.head.appendChild(nt),d.addEventListener("DOMContentLoaded",n.guarded((function(){tt(),a||(z()&&g(H),(t.booster||t.BoosterApps)&&s&&s.fn.ajaxSuccess&&s(d).ajaxSuccess((function(t,e,n){n&&F(e,n.url,n.type)})))}))),tt())}))()}}(window);