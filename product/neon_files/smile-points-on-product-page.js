(()=>{"use strict";var e={446:(e,t,n)=>{n.r(t),n.d(t,{Component:()=>S,Fragment:()=>w,cloneElement:()=>z,createContext:()=>q,createElement:()=>O,createRef:()=>j,h:()=>O,hydrate:()=>$,isValidElement:()=>l,options:()=>o,render:()=>G,toChildArray:()=>T});var r,o,i,l,a,u,c,s,_,f,d,p,v={},y=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,b=Array.isArray;function m(e,t){for(var n in t)e[n]=t[n];return e}function g(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function O(e,t,n){var o,i,l,a={};for(l in t)"key"==l?o=t[l]:"ref"==l?i=t[l]:a[l]=t[l];if(arguments.length>2&&(a.children=arguments.length>3?r.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(l in e.defaultProps)void 0===a[l]&&(a[l]=e.defaultProps[l]);return P(e,a,o,i,null)}function P(e,t,n,r,l){var a={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==l?++i:l,__i:-1,__u:0};return null==l&&null!=o.vnode&&o.vnode(a),a}function j(){return{current:null}}function w(e){return e.children}function S(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function x(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return x(e)}}function L(e){(!e.__d&&(e.__d=!0)&&a.push(e)&&!M.__r++||u!==o.debounceRendering)&&((u=o.debounceRendering)||c)(M)}function M(){var e,t,n,r,i,l,u,c;for(a.sort(s);e=a.shift();)e.__d&&(t=a.length,r=void 0,l=(i=(n=e).__v).__e,u=[],c=[],n.__P&&((r=m({},i)).__v=i.__v+1,o.vnode&&o.vnode(r),A(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[l]:null,u,null==l?k(i):l,!!(32&i.__u),c),r.__v=i.__v,r.__.__k[r.__i]=r,U(u,r,c),r.__e!=l&&x(r)),a.length>t&&a.sort(s));M.__r=0}function C(e,t,n,r,o,i,l,a,u,c,s){var _,f,d,p,h,b=r&&r.__k||y,m=t.length;for(n.__d=u,B(n,t,b),u=n.__d,_=0;_<m;_++)null!=(d=n.__k[_])&&(f=-1===d.__i?v:b[d.__i]||v,d.__i=_,A(e,d,f,o,i,l,a,u,c,s),p=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&H(f.ref,null,d),s.push(d.ref,d.__c||p,d)),null==h&&null!=p&&(h=p),65536&d.__u||f.__k===d.__k?u=N(d,u,e):"function"==typeof d.type&&void 0!==d.__d?u=d.__d:p&&(u=p.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=h}function B(e,t,n){var r,o,i,l,a,u=t.length,c=n.length,s=c,_=0;for(e.__k=[],r=0;r<u;r++)null!=(o=t[r])&&"boolean"!=typeof o&&"function"!=typeof o?(l=r+_,(o=e.__k[r]="string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?P(null,o,null,null,null):b(o)?P(w,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?P(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,i=null,-1!==(a=o.__i=D(o,n,l,s))&&(s--,(i=n[a])&&(i.__u|=131072)),null==i||null===i.__v?(-1==a&&_--,"function"!=typeof o.type&&(o.__u|=65536)):a!==l&&(a==l-1?_--:a==l+1?_++:(a>l?_--:_++,o.__u|=65536))):o=e.__k[r]=null;if(s)for(r=0;r<c;r++)null!=(i=n[r])&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=k(i)),W(i,i))}function N(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=N(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=k(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function T(e,t){return t=t||[],null==e||"boolean"==typeof e||(b(e)?e.some((function(e){T(e,t)})):t.push(e)),t}function D(e,t,n,r){var o=e.key,i=e.type,l=n-1,a=n+1,u=t[n];if(null===u||u&&o==u.key&&i===u.type&&!(131072&u.__u))return n;if(r>(null==u||131072&u.__u?0:1))for(;l>=0||a<t.length;){if(l>=0){if((u=t[l])&&!(131072&u.__u)&&o==u.key&&i===u.type)return l;l--}if(a<t.length){if((u=t[a])&&!(131072&u.__u)&&o==u.key&&i===u.type)return a;a++}}return-1}function R(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||h.test(t)?n:n+"px"}function I(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||R(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||R(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=_,e.addEventListener(t,i?d:f,i)):e.removeEventListener(t,i?d:f,i);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function E(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=_++;else if(t.t<n.u)return;return n(o.event?o.event(t):t)}}}function A(e,t,n,r,i,l,a,u,c,s){var _,f,d,p,v,y,h,g,O,P,j,k,x,L,M,B,N=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),l=[u=t.__e=n.__e]),(_=o.__b)&&_(t);e:if("function"==typeof N)try{if(g=t.props,O="prototype"in N&&N.prototype.render,P=(_=N.contextType)&&r[_.__c],j=_?P?P.props.value:_.__:r,n.__c?h=(f=t.__c=n.__c).__=f.__E:(O?t.__c=f=new N(g,j):(t.__c=f=new S(g,j),f.constructor=N,f.render=F),P&&P.sub(f),f.props=g,f.state||(f.state={}),f.context=j,f.__n=r,d=f.__d=!0,f.__h=[],f._sb=[]),O&&null==f.__s&&(f.__s=f.state),O&&null!=N.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=m({},f.__s)),m(f.__s,N.getDerivedStateFromProps(g,f.__s))),p=f.props,v=f.state,f.__v=t,d)O&&null==N.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),O&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(O&&null==N.getDerivedStateFromProps&&g!==p&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,j),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.__s,j)||t.__v===n.__v)){for(t.__v!==n.__v&&(f.props=g,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some((function(e){e&&(e.__=t)})),k=0;k<f._sb.length;k++)f.__h.push(f._sb[k]);f._sb=[],f.__h.length&&a.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.__s,j),O&&null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(p,v,y)}))}if(f.context=j,f.props=g,f.__P=e,f.__e=!1,x=o.__r,L=0,O){for(f.state=f.__s,f.__d=!1,x&&x(t),_=f.render(f.props,f.state,f.context),M=0;M<f._sb.length;M++)f.__h.push(f._sb[M]);f._sb=[]}else do{f.__d=!1,x&&x(t),_=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++L<25);f.state=f.__s,null!=f.getChildContext&&(r=m(m({},r),f.getChildContext())),O&&!d&&null!=f.getSnapshotBeforeUpdate&&(y=f.getSnapshotBeforeUpdate(p,v)),C(e,b(B=null!=_&&_.type===w&&null==_.key?_.props.children:_)?B:[B],t,n,r,i,l,a,u,c,s),f.base=t.__e,t.__u&=-161,f.__h.length&&a.push(f),h&&(f.__E=f.__=null)}catch(e){if(t.__v=null,c||null!=l){for(t.__u|=c?160:128;u&&8===u.nodeType&&u.nextSibling;)u=u.nextSibling;l[l.indexOf(u)]=null,t.__e=u}else t.__e=n.__e,t.__k=n.__k;o.__e(e,t,n)}else null==l&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=V(n.__e,t,n,r,i,l,a,c,s);(_=o.diffed)&&_(t)}function U(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)H(n[r],n[++r],n[++r]);o.__c&&o.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){o.__e(e,t.__v)}}))}function V(e,t,n,i,l,a,u,c,s){var _,f,d,p,y,h,m,O=n.props,P=t.props,j=t.type;if("svg"===j?l="http://www.w3.org/2000/svg":"math"===j?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),null!=a)for(_=0;_<a.length;_++)if((y=a[_])&&"setAttribute"in y==!!j&&(j?y.localName===j:3===y.nodeType)){e=y,a[_]=null;break}if(null==e){if(null===j)return document.createTextNode(P);e=document.createElementNS(l,j,P.is&&P),c&&(o.__m&&o.__m(t,a),c=!1),a=null}if(null===j)O===P||c&&e.data===P||(e.data=P);else{if(a=a&&r.call(e.childNodes),O=n.props||v,!c&&null!=a)for(O={},_=0;_<e.attributes.length;_++)O[(y=e.attributes[_]).name]=y.value;for(_ in O)if(y=O[_],"children"==_);else if("dangerouslySetInnerHTML"==_)d=y;else if(!(_ in P)){if("value"==_&&"defaultValue"in P||"checked"==_&&"defaultChecked"in P)continue;I(e,_,null,y,l)}for(_ in P)y=P[_],"children"==_?p=y:"dangerouslySetInnerHTML"==_?f=y:"value"==_?h=y:"checked"==_?m=y:c&&"function"!=typeof y||O[_]===y||I(e,_,y,O[_],l);if(f)c||d&&(f.__html===d.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(d&&(e.innerHTML=""),C(e,b(p)?p:[p],t,n,i,"foreignObject"===j?"http://www.w3.org/1999/xhtml":l,a,u,a?a[0]:n.__k&&k(n,0),c,s),null!=a)for(_=a.length;_--;)g(a[_]);c||(_="value","progress"===j&&null==h?e.removeAttribute("value"):void 0!==h&&(h!==e[_]||"progress"===j&&!h||"option"===j&&h!==O[_])&&I(e,_,h,O[_],l),_="checked",void 0!==m&&m!==e[_]&&I(e,_,m,O[_],l))}return e}function H(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){o.__e(e,n)}}function W(e,t,n){var r,i;if(o.unmount&&o.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||H(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){o.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&W(r[i],t,n||"function"!=typeof e.type);n||g(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function F(e,t,n){return this.constructor(e,n)}function G(e,t,n){var i,l,a,u;o.__&&o.__(e,t),l=(i="function"==typeof n)?null:n&&n.__k||t.__k,a=[],u=[],A(t,e=(!i&&n||t).__k=O(w,null,[e]),l||v,v,t.namespaceURI,!i&&n?[n]:l?null:t.firstChild?r.call(t.childNodes):null,a,!i&&n?n:l?l.__e:t.firstChild,i,u),U(a,e,u)}function $(e,t){G(e,t,$)}function z(e,t,n){var o,i,l,a,u=m({},e.props);for(l in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==l?o=t[l]:"ref"==l?i=t[l]:u[l]=void 0===t[l]&&void 0!==a?a[l]:t[l];return arguments.length>2&&(u.children=arguments.length>3?r.call(arguments,2):n),P(e.type,u,o||e.key,i||e.ref,null)}function q(e,t){var n={__c:t="__cC"+p++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=new Set,(r={})[t]=this,this.getChildContext=function(){return r},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.forEach((function(e){e.__e=!0,L(e)}))},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r=y.slice,o={__e:function(e,t,n,r){for(var o,i,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),l=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),l=o.__d),l)return o.__E=o}catch(t){e=t}throw e}},i=0,l=function(e){return null!=e&&null==e.constructor},S.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},n),this.props)),e&&m(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),L(this))},S.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),L(this))},S.prototype.render=w,a=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=function(e,t){return e.__v.__b-t.__v.__b},M.__r=0,_=0,f=E(!1),d=E(!0),p=0},727:(e,t,n)=>{n.r(t),n.d(t,{Fragment:()=>r.Fragment,jsx:()=>s,jsxAttr:()=>p,jsxDEV:()=>s,jsxEscape:()=>v,jsxTemplate:()=>_,jsxs:()=>s});var r=n(446);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=/["&<]/;function l(e){if(0===e.length||!1===i.test(e))return e;for(var t=0,n=0,r="",o="";n<e.length;n++){switch(e.charCodeAt(n)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;default:continue}n!==t&&(r+=e.slice(t,n)),r+=o,t=n+1}return n!==t&&(r+=e.slice(t,n)),r}var a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,u=0,c=Array.isArray;function s(e,t,n,o,i,l){t||(t={});var a,c,s=t;"ref"in t&&(a=t.ref,delete t.ref);var _={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--u,__i:-1,__u:0,__source:i,__self:l};if("function"==typeof e&&(a=e.defaultProps))for(c in a)void 0===s[c]&&(s[c]=a[c]);return r.options.vnode&&r.options.vnode(_),_}function _(e){var t=s(r.Fragment,{tpl:e,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var f={},d=/[A-Z]/g;function p(e,t){if(r.options.attr){var n=r.options.attr(e,t);if("string"==typeof n)return n}if("ref"===e||"key"===e)return"";if("style"===e&&"object"==o(t)){var i="";for(var u in t){var c=t[u];if(null!=c&&""!==c){var s="-"==u[0]?u:f[u]||(f[u]=u.replace(d,"-$&").toLowerCase()),_=";";"number"!=typeof c||s.startsWith("--")||a.test(s)||(_="px;"),i=i+s+":"+c+_}}return e+'="'+i+'"'}return null==t||!1===t||"function"==typeof t||"object"==o(t)?"":!0===t?e:e+'="'+l(t)+'"'}function v(e){if(null==e||"boolean"==typeof e||"function"==typeof e)return null;if("object"==o(e)){if(void 0===e.constructor)return e;if(c(e)){for(var t=0;t<e.length;t++)e[t]=v(e[t]);return e}}return l(""+e)}},520:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r={PUBLIC_SMILE_API_HOST:"platform.smile.io",PUBLIC_SMILE_UI_HOST:"js.smile.io"}},282:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.filterActivityRuleBonuses=void 0;t.filterActivityRuleBonuses=function(e){var t=e.activityRuleBonuses,n=e.filters,r=n.activityRuleId,o=n.endsAfter;return t.filter((function(e){var t=!r||e.activityRuleId===r,n=!o||new Date(e.endsAt)>o;return t&&n}))}},929:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.estimatePointsEarningValue=t.formatPointsAmount=void 0;var r=n(282);t.formatPointsAmount=function(e){var t=e.pointsAmount,n=e.pointsLabelSingular,r=e.pointsLabelPlural,o=e.formatNumber;return"".concat(o(t)," ").concat(1===Number(t)?n:r)};t.estimatePointsEarningValue=function(e){var t=e.monetaryValue,n=e.activityRuleBonuses,o=e.activityRules;if(!o.length)return 0;var i=0,l=o.reduce((function(e,o){if("variable"===o.rewardValueType){var i=function(e,t,n){var o,i=n?(0,r.filterActivityRuleBonuses)({activityRuleBonuses:n,filters:{activityRuleId:t.id}})[0]:null,l=null!==(o=null==i?void 0:i.bonusOperand)&&void 0!==o?o:1;return Math.floor(e*t.multiplier)*l}(t,o,n);(!e||e>i)&&(e=i)}return e}),0);return l||(i=o.reduce((function(e,t){if("fixed"===t.rewardValueType){var o=function(e,t){var n,o,i=t?(0,r.filterActivityRuleBonuses)({activityRuleBonuses:t,filters:{activityRuleId:e.id}})[0]:null,l=null!==(n=null==i?void 0:i.bonusOperand)&&void 0!==n?n:1;return(null!==(o=e.reward.value)&&void 0!==o?o:0)*l}(t,n);(!e||e>o)&&(e=o)}return e}),0)),l||i}},908:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BannerMessage=void 0;var a=n(727),u=n(282),c=n(929),s=n(907),_=l(n(463)),f=i(n(186)),d=function(e){var t=null==e?void 0:e.nextElementSibling;e&&t&&(e.style.height=window.getComputedStyle(t).lineHeight)};t.BannerMessage=function(e){var t=e.isGiftCard,n=e.isProductExcluded;return(0,a.jsx)(s.Banner,{children:t?"To prevent double points earning, Smile doesn't award points on gift card purchases. The points earning block won't be shown to your customers.":n?"This product is excluded from earning loyalty points. The points earning block won't be shown to your customers.":"The loyalty points program is disabled or you have no active order earning rules. The points earning block won't be shown to your customers."})};t.default=function(e){var n=e.isLoading,r=void 0!==n&&n,o=e.primaryColour,i=e.secondaryColour,l=e.shouldShowIcon,p=e.isPointsProgramEnabled,v=e.activeOnlineOrderEarningRules,y=e.activeActivityRuleBonuses,h=e.isInThemeEditor,b=e.productPrice,m=e.isGuest,g=e.canGuestsEarn,O=e.pointsLabelSingular,P=e.pointsLabelPlural,j=e.isGiftCard,w=e.targetProduct,S=e.excludedShopifyProductIds,k=e.previewScenario,x=e.shouldShowPointsLabel,L=e.pointsTextLoggedIn,M=e.pointsTextLoggedOut,C={"--primary-colour":o,"--secondary-colour":i},B=(0,u.filterActivityRuleBonuses)({activityRuleBonuses:y,filters:{endsAfter:new Date}})[0];if(B){var N=v.find((function(e){return e.id===(null==B?void 0:B.activityRuleId)}));N?v=[N]:B=null}var T=B?(0,c.estimatePointsEarningValue)({monetaryValue:b,activityRules:v}):null,D=(0,c.estimatePointsEarningValue)({monetaryValue:b,activityRules:v,activityRuleBonuses:B?[B]:[]}),R=w.id.toString(),I=S.includes(R);return p&&(r||v.length>0)&&!j&&!I?(0,a.jsx)("section",{className:f.PointsOnProductPage,style:C,children:(0,a.jsxs)(s.LayoutStack,{spacing:"medium",children:[l&&(0,a.jsx)("div",{ref:d,className:f.PointsOnProductPage__IconContainer,children:(0,a.jsx)(s.Icon,{name:"rewards/custom",colour:o,alt:""})}),(0,a.jsx)(s.LoadingOverlay,{isVisible:r,children:(0,a.jsx)(s.Text,{children:(0,a.jsx)(_.default,{isGuest:m,canGuestsEarn:g,earnablePoints:D,earnablePointsBeforeBonus:T,pointsLabelSingular:O,pointsLabelPlural:P,previewScenario:k,shouldShowPointsLabel:x,pointsTextLoggedIn:L,pointsTextLoggedOut:M})})})]})}):h?(0,a.jsx)(t.BannerMessage,{isGiftCard:j,isProductExcluded:I}):null}},463:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(727),a=n(929),u=n(108),c=n(75),s=i(n(834));t.default=function(e){var t=e.isGuest,n=e.canGuestsEarn,r=e.earnablePoints,o=e.earnablePointsBeforeBonus,i=e.pointsLabelSingular,_=e.pointsLabelPlural,f=e.previewScenario,d=e.shouldShowPointsLabel,p=e.pointsTextLoggedIn,v=e.pointsTextLoggedOut,y=o?"<del>".concat((0,u.formatNumber)(o),"</del> "):"",h="".concat(y).concat(function(e,t,n,r){return e?t?(0,a.formatPointsAmount)({pointsAmount:e,pointsLabelSingular:n,pointsLabelPlural:r,formatNumber:u.formatNumber}):(0,u.formatNumber)(e):t?r:""}(r,d,i,_)),b=[{name:"points_amount",value:h}],m=!!f?"log_in_required_to_earn_points"===f:t&&!n,g=(0,c.injectVariablesIntoString)({str:m?v:p,variables:b});return(0,l.jsx)("div",{className:s.BodyTextWrapper,dangerouslySetInnerHTML:{__html:g}})}},18:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(940),i=r(n(908));(0,o.triggerRender)("smile-points-on-product-page",i.default)},374:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(727);t.default=function(e){var t=e.children;return(0,r.jsx)("div",{children:t})}},527:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(727),a=i(n(201));t.default=function(e){var t=e.children;return(0,l.jsxs)("div",{className:a.Banner,children:[(0,l.jsx)("div",{className:a.Banner__Icon}),(0,l.jsx)("div",{children:t})]})}},725:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(727),a=i(n(415));t.default=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,o=e.variation,i=e.disabled,u=void 0!==i&&i,c=e.ariaLabel,s=e.onClick,_="primary"===o;return(0,l.jsx)("button",{className:"".concat(a.Button," ").concat(_?a["Button--primary"]:""," ").concat(n),disabled:u,"aria-label":c,onClick:s,children:r})}},844:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(727),a=i(n(274));t.default=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,o="".concat(a.ContentContainer," ").concat(r);return(0,l.jsx)("div",{className:o,children:t})}},691:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(446),a=i(n(789));t.default=function(e){var t=e.children,n=e.size,r=void 0===n?"medium":n;return(0,l.h)({small:"h3",medium:"h2",large:"h1"}[r],{className:a.Heading},t)}},302:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(727),i=r(n(520));t.default=function(e){var t=e.alt,n=e.colour,r=e.size,l=void 0===r?30:r,a=e.name,u="https://".concat(i.default.PUBLIC_SMILE_API_HOST,"/v1/images/").concat(a,".svg?color=").concat(encodeURIComponent(n),"&colorize=true");return(0,o.jsx)("img",{alt:t,src:u,width:l,height:l})}},907:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Text=t.LoadingOverlay=t.Link=t.LayoutStack=t.Icon=t.Heading=t.ContentContainer=t.Button=t.Banner=t.AppBlockContainer=void 0;var o=r(n(374));t.AppBlockContainer=o.default;var i=r(n(527));t.Banner=i.default;var l=r(n(725));t.Button=l.default;var a=r(n(844));t.ContentContainer=a.default;var u=r(n(691));t.Heading=u.default;var c=r(n(302));t.Icon=c.default;var s=r(n(432));t.LayoutStack=s.default;var _=r(n(581));t.Link=_.default;var f=r(n(6));t.LoadingOverlay=f.default;var d=r(n(84));t.Text=d.default},432:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(727),a=n(160),u=i(n(646));t.default=function(e){var t=e.children,n=e.direction,r=e.spacing,o=e.align,i=e.distribution,c=e.wrap,s=n?(0,a.getClassNames)({baseClassName:"LayoutStack",propertyName:"direction",propertyOptions:{default:"Row",row:"Row",column:"Column"},value:n,styles:u}):"",_=r?(0,a.getClassNames)({baseClassName:"LayoutStack",propertyName:"spacing",propertyOptions:{default:"Medium",small:"Small",medium:"Medium",large:"Large",extraLarge:"ExtraLarge"},value:r,styles:u}):"",f=o?(0,a.getClassNames)({baseClassName:"LayoutStack",propertyName:"align",propertyOptions:{default:"Normal",normal:"Normal",start:"Start",center:"Center"},value:o,styles:u}):"",d=i?(0,a.getClassNames)({baseClassName:"LayoutStack",propertyName:"distribution",propertyOptions:{default:"Auto",auto:"Auto",even:"Even",spaceBetween:"SpaceBetween"},value:i,styles:u}):"",p=c?u["LayoutStack--wrap"]:"";return(0,l.jsx)("div",{className:"".concat(u.LayoutStack," ").concat(s," ").concat(_," ").concat(f," ").concat(d," ").concat(p),children:t})}},581:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(727),a=i(n(311));t.default=function(e){var t=e.to,n=e.ariaLabel,r=e.children;return(0,l.jsx)("a",{className:a.Link,href:t,"aria-label":n,children:r})}},6:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(727),a=i(n(956));t.default=function(e){var t=e.children,n=e.isVisible,r=void 0!==n&&n;return(0,l.jsx)("div",{className:"".concat(a.LoadingOverlay," ").concat(r?a["LoadingOverlay--visible"]:""),children:t})}},84:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=n(727),a=i(n(306)),u={deletion:"Deletion"},c={semiBold:"SemiBold"};t.default=function(e){var t=e.accessibilityRole,n=e.weight,r=e.children,o=[a.Text,t&&a["Text--accessibilityRole".concat(u[t])],n&&a["Text--weight".concat(c[n])]].filter(Boolean);return(0,l.jsx)("span",{className:o.join(" "),"aria-hidden":"deletion"===t,children:r})}},108:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatNumber=void 0;t.formatNumber=function(e){return e.toLocaleString()}},940:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.triggerRender=function(e,t){var n=new CustomEvent("".concat(e,":preload-completed"),{detail:{render:function(e,n){(0,i.render)((0,o.jsx)(l.AppBlockContainer,{children:(0,o.jsx)(t,r({},n))}),e)}}});document.dispatchEvent(n)};var o=n(727),i=n(446),l=n(907)},75:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.injectVariablesIntoString=void 0;t.injectVariablesIntoString=function(e){var t=e.str;return e.variables.reduce((function(e,t){var n=t.name,r=t.value;return e.replace(new RegExp("\\[".concat(n,"\\]"),"g"),r)}),t)}},160:(e,t)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getClassNames=function(e){var t,r=e.baseClassName,o=e.propertyName,i=e.propertyOptions,l=e.value,a=e.styles;t="object"===n(l)?Object.keys(l).map((function(e){var t="default"===e?"":"".concat(e,":");return"".concat(r,"--").concat(t).concat(o).concat(i[l[e]])})):["".concat(r,"--").concat(o).concat(i[l])];return t.map((function(e){return a[e]})).join(" ")}},834:(e,t,n)=>{n.r(t),n.d(t,{BodyTextWrapper:()=>r});var r="slp_13efdb"},186:(e,t,n)=>{n.r(t),n.d(t,{PointsOnProductPage:()=>r,PointsOnProductPage__IconContainer:()=>o});var r="slp_1d97ce",o="slp_7cb0e2"},201:(e,t,n)=>{n.r(t),n.d(t,{Banner:()=>r,Banner__Icon:()=>o});var r="slp_42d747",o="slp_726d90"},415:(e,t,n)=>{n.r(t),n.d(t,{Button:()=>r,"Button--primary":()=>o});var r="slp_6434b9",o="slp_ba31b4"},274:(e,t,n)=>{n.r(t),n.d(t,{ContentContainer:()=>r});var r="slp_51a39c"},789:(e,t,n)=>{n.r(t),n.d(t,{Heading:()=>r});var r="slp_8dbfc7"},646:(e,t,n)=>{n.r(t),n.d(t,{LayoutStack:()=>r,"LayoutStack--alignCenter":()=>o,"LayoutStack--alignNormal":()=>i,"LayoutStack--alignStart":()=>l,"LayoutStack--directionColumn":()=>a,"LayoutStack--directionRow":()=>u,"LayoutStack--distributionAuto":()=>c,"LayoutStack--distributionSpaceBetween":()=>s,"LayoutStack--md:alignStart":()=>_,"LayoutStack--md:directionRow":()=>f,"LayoutStack--md:distributionEven":()=>d,"LayoutStack--spacingExtraLarge":()=>p,"LayoutStack--spacingLarge":()=>v,"LayoutStack--spacingMedium":()=>y,"LayoutStack--spacingSmall":()=>h,"LayoutStack--wrap":()=>b});var r="slp_fcec57",o="slp_c33c9b",i="slp_931f00",l="slp_5a51c8",a="slp_1f002c",u="slp_6f1b0c",c="slp_1f8527",s="slp_6480c1",_="slp_a6ac18",f="slp_a640ea",d="slp_6c61e4",p="slp_33f387",v="slp_9e1bf9",y="slp_4f77b0",h="slp_39c850",b="slp_76b77a"},311:(e,t,n)=>{n.r(t),n.d(t,{Link:()=>r});var r="slp_aa8327"},956:(e,t,n)=>{n.r(t),n.d(t,{LoadingOverlay:()=>r,"LoadingOverlay--visible":()=>o,shimmer:()=>i});var r="slp_a1e93a",o="slp_96a4ba",i="slp_de8d6e"},306:(e,t,n)=>{n.r(t),n.d(t,{Text:()=>r,"Text--accessibilityRoleDeletion":()=>o,"Text--weightSemiBold":()=>i});var r="slp_5f0014",o="slp_e257a7",i="slp_4425b3"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};n(18)})();