!function(){"use strict";const e=(e,t)=>{const a=window.vskData.app_setting_config,r=a&&a.product_template,n=!!r&&(r.group_swatches||r.variant_swatches);return!(!a.enable_swatch||!a.enable_swatch[e][t])&&n};var t=()=>{const t=window.vskData.block_collection_settings,a=e("home","enable_on_home_featured_product")&&"index"===t.current_template,r=e("collections","enable_on_collection_quick_view")&&("collection"===t.current_template||"search"===t.current_template),n=e("list_collections","enable_on_list_collection_quick_view")&&"list-collections"===t.current_template,o=e("products","enable_on_main_product")&&"product"===t.current_template,i=e("cart","enable_on_cart_featured_product")&&"cart"===t.current_template,s=e("article","enable_on_article_featured_product")&&("article"===t.current_template||"blog"===t.current_template),l=e("pages","enable_on_custom_featured_product")&&t.current_template.includes("page");return a||r||n||o||i||s||l};class a{constructor(){a.instance||(this.data={},a.instance=this)}set(e,t){this.data[e]=t}get(e){return this.data[e]}}var r,n,o=new a;const i="themeSettings",s=['a[href*="/products/"]:not([href*="shopify.com"])','[data-href*="/products/"]','meta[itemprop="url"][content*="/products/"]',"[data-product-handle]",'[data-url*="/products/"]','[data-product-url*="/products/"]','[product-url*="/products/"]'],l=["data-product-handle","data-url","data-product-url","product-url","content","href","data-href"],c=[{theme_type:"common",option_selector:'select[class*="single-option-selector"]',hide_elements:'select.single-option-selector, select[id*="SingleOptionSelector"]'},{theme_type:"common",option_selector:'select[id*="SingleOptionSelector"]',hide_elements:'select.single-option-selector, select[id*="SingleOptionSelector"]'},{theme_type:"common",option_selector:".option-selectors select",hide_elements:".option-selectors"},{theme_type:"common",option_selector:".option-values select",hide_elements:".option-values.option-values-select .form-element-wrapper"},{theme_type:"dawn",option_selector:'select[class*="single-option-selector"]',hide_elements:'select.single-option-selector, select[id*="SingleOptionSelector"]'},{theme_type:"dawn",option_selector:'select[id*="SingleOptionSelector"]',hide_elements:'select.single-option-selector, select[id*="SingleOptionSelector"]'},{theme_type:"dawn",option_selector:".option-selectors select",hide_elements:".option-selectors"},{theme_type:"dawn",option_selector:".option-values select",hide_elements:".option-values.option-values-select .form-element-wrapper"},{theme_type:"dawn",option_selector:".single-option-radio input.single-option-selector__radio",hide_elements:".radio-wrapper.js, form .radio-wrapper"},{theme_type:"dawn",option_selector:".single-option-radio input.single-option-selector-product-template",hide_elements:".radio-wrapper.js, form .radio-wrapper"},{theme_type:"dawn",option_selector:'form input[class*="variant__input"]',hide_elements:"form .variant-wrapper.variant-wrapper--button.js, form .variant-wrapper .variant-input-wrap, form .variant-wrapper .variant__label"},{theme_type:"prestige",option_selector:'input[data-option-position][type="radio"], button[data-option-position][type="button"], div[data-option-position][data-option-value]',hide_elements:'form[action*="/cart/add"] .ProductForm__Option, form[action*="/cart/add"] .product-form__option'},{theme_type:"dawn",option_selector:'form[action*="/cart/add"] .form-options .form-field-select[data-product-option]',hide_elements:'form[action*="/cart/add"] .form-field.form-options'},{theme_type:"dawn",option_selector:"variant-radios input",hide_elements:"variant-radios"},{theme_type:"dawn",option_selector:"fieldset.variants-ui__radios input.option-value-input",hide_elements:"fieldset.variants-ui__radios"},{theme_type:"motion",option_selector:"select.product-single__variants",hide_elements:"noelement"}],d="storefront",u="SELECT",p="INPUT",h="BUTTON",g=[{char:"!",replacer:"~21"},{char:"*",replacer:"~2A"},{char:"'",replacer:"~92"},{char:"(",replacer:"~28"},{char:")",replacer:"~29"},{char:";",replacer:"~3B"},{char:":",replacer:"~3A"},{char:"@",replacer:"~40"},{char:"&",replacer:"~26"},{char:"=",replacer:"~3D"},{char:"+",replacer:"~2B"},{char:"$",replacer:"~24"},{char:",",replacer:"~2C"},{char:"/",replacer:"~2F"},{char:"\\",replacer:"~5C"},{char:"?",replacer:"~3F"},{char:"%",replacer:"~25"},{char:"#",replacer:"~23"},{char:"[",replacer:"~5B"},{char:"]",replacer:"~5D"},{char:"{",replacer:"~7B"},{char:"}",replacer:"~7D"},{char:'"',replacer:"~22"},{char:"<",replacer:"~3C"},{char:">",replacer:"~3E"},{char:"|",replacer:"~7C"},{char:"`",replacer:"~60"},{char:"^",replacer:"~5E"},{char:".",replacer:"~2E"}],m="change",_="lite",v="detailed",w="metafield",f=null===(r=window.vskData.data_url_source)||void 0===r?void 0:r.includes("lambda"),b=null===(n=window.vskData.data_url_source)||void 0===n?void 0:n.includes(w),y="(max-width: 768px)";var S=(()=>{const e={};function t(t,a){e[t]&&(e[t]=e[t].filter((e=>e!==a)),0===e[t].length&&delete e[t])}return{subscribe:function(a,r){return e[a]||(e[a]=[]),e[a].push(r),()=>{t(a,r)}},unsubscribe:t,publish:function(t,a){e[t]&&e[t].forEach((e=>e(a)))}}})();const $=e=>{let t=e.message,a=e.error;if(window.vskData&&window.vskData.app_setting.display_logs){const e=(new Date).toString();console.log("<-------------- START ----------------\x3e"),a?console.error("Swatch King ERROR:",t):console.log("Swatch King:",t),console.log("Swatch King:","Timestamp",e),console.log("<--------------- END -----------------\x3e")}},k={printLog:$,isPageLoaded:()=>"complete"===document.readyState||"loaded"===document.readyState,isProductPage:()=>window.location.pathname.includes("/products"),extractProductHandle:e=>{let t=e.split("/");return t=t[t.length-1],t=t.split(RegExp("\\?|\\#|\\.js","gi")),t[0]},pathName:()=>window.decodeURI(window.location.pathname.replace(/\/$/,"")),convertLanguageCode:e=>{const t=e.toUpperCase();return"PT-BR"===t||"PT-PT"===t||"ZH-CN"===t||"ZH-TW"===t?t.replace("-","_"):t.match(/^[a-zA-Z]{2}-[a-zA-Z]{2}$/)?t.substring(0,2):t},getHandleFromURL:e=>{let t=e.split("/");return t=t[t.length-1],t=t.split(RegExp("\\?|\\#|\\.js","gi")),t[0]},morphValues:e=>{if(!o.get(i).settings.products.handleize)return e;let t=e;return t=t.toLowerCase(),t=t.replace(RegExp("['\"\\(\\)\\{\\}\\[\\]]","gi"),""),t=t.replace(RegExp("[^a-z0-9_]+","gi"),"-"),t=t.replace(RegExp("-+","gi"),"-"),t=t.replace(RegExp("^-|-$","gi"),""),t},isASwatch:e=>"swatch"===e||"swatch_drop_down"===e,findCurrentVariantID:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t={};if(document.location.search.substr(1).split("&").forEach((e=>{const a=e.split("=");if(e)try{t[a[0].toString()]=a[1].toString()}catch(e){console.error(e)}})),t.variant)return t.variant;const a=(null==e?void 0:e.querySelector('[name="id"]'))||document.querySelector('[name="id"]');return null!=a&&a.value?a.value:null},dispatchCustomEvent:(e,t,a)=>{if(window.CustomEvent){const r=document.createEvent("CustomEvent");r.initCustomEvent(`vsk:${t}`,!0,!1,a),e.dispatchEvent(r)}},dispatchEvent:(e,t)=>{const a=document.createEvent("HTMLEvents");a.initEvent(e,!0,!1),$(["Event Dispatched!!!",e,t]),t.dispatchEvent(a)},sortObjectByKeys:e=>{const t={};let a=1,r=`option${a}`;for(;void 0!==e[r];)t[r]=e[r],a+=1,r=`option${a}`;return t},hideSingleValueOption:e=>o.get(i).settings[e].hide_single_value_option,isEventTrusted:e=>{let t=e.event,a=e._default;return void 0!==t.isTrusted&&void 0!==t.screenX&&void 0!==t.screenY&&!1===t.isTrusted&&0!==t.screenX&&0!==t.screenY||(void 0!==t.isTrusted?t.isTrusted:void 0!==t.screenX&&void 0!==t.screenY?0!==t.screenX&&0!==t.screenY:a)},isStorefront:()=>window.vskData.product_data_source===d,getSwatchUrlHost:()=>"cdn"===window.vskData.app_setting.swatch_url_source?"cdn.starapps.studio/v2":"media-cdn.starapps.studio",getStoreSlug:()=>window.Shopify.shop.split(".myshopify.com")[0],getRoutesRoot:()=>{let e=window.Shopify&&window.Shopify.routes&&(window.Shopify.routes.root||window.Shopify.routes.root_url)||"/";return e.endsWith("/")||(e+="/"),e}};var D=k;const x=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return`\nquery productDetails($variantsCursor: String) @inContext(country: ${window.Shopify.country.toUpperCase()}, language: ${D.convertLanguageCode(a?window.vskData.primary_locale:window.Shopify.locale)}) {\n  product(${e}: "${t}") {\n    id\n    handle\n    title\n    vendor\n    availableForSale\n    onlineStoreUrl\n    tags\n    publishedAt\n    priceRange {\n      maxVariantPrice { amount }\n      minVariantPrice { amount }\n    }\n    featuredImage { id url }\n    options {\n      id\n      name\n      values\n      optionValues { id name }\n    }\n    images(first: 250) {\n      nodes { id url altText }\n    }\n    variants(first: 250, after: $variantsCursor) {\n      nodes{\n        id\n        availableForSale\n        quantityAvailable\n        compareAtPrice{\n          currencyCode\n          amount\n        }\n        selectedOptions{\n          name\n          value\n        }\n        currentlyNotInStock\n        featured_image: image{\n          id\n          src: url\n          altText\n        }\n        price{\n          currencyCode\n          amount\n        }\n        title\n        sku\n      }\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n    }\n    compareAtPriceRange {\n      maxVariantPrice { amount }\n      minVariantPrice { amount }\n    }\n  }\n}\n`},O={byHandle:function(e){return x("handle",e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},byId:function(e){return x("id",`gid://shopify/Product/${e}`,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}};var A=O;const E=()=>{let e=D.getRoutesRoot();e&&""!==e&&(e=e.replace(/\/$/,""));const t={default_language:window.vskData.primary_locale,money_format:window.vskData.money_format,current_url:e};return window.Shopify&&window.Shopify.locale&&(t.current_language=window.Shopify.locale),t.not_default_language=t.current_language!==t.default_language,D.printLog({message:["Found language information in DOM",t],error:!1}),t},P=e=>{const t=E();if(t.not_default_language){let a=window.vskData.localized_string[e];if(a&&(a=a[t.current_language],a&&a.trim().length>0))return a}return e};function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){T(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var L=async e=>{let t=e.query,a=e.variables,r=void 0===a?null:a,n=e.isOptions,o=void 0!==n&&n;try{const e={method:"POST",headers:{"Content-Type":"application/json","X-Shopify-Storefront-Access-Token":window.vskData.storefront_key},body:JSON.stringify({query:t,variables:r})},a=`${D.getRoutesRoot()}api/2025-01/graphql.json`,n=await fetch(a,e);let i=await n.json();return o&&(i=await(async e=>{var t;let a=e.json,r=e.graphqlApiUrl,n=e.fetchOptions,o=e.variables,i=e.query;if(null===(t=a.data)||void 0===t||!t.product)return null;let s=a.data.product.variants.pageInfo,l=s.hasNextPage,c=s.endCursor;for(;l;)try{var d;const e=await fetch(r,j(j({},n),{},{body:JSON.stringify({query:i,variables:j(j({},o),{},{variantsCursor:c})})}));if(!e.ok){D.printLog({message:`Pagination request failed: ${e.status} – ${e.statusText}`,error:!0});break}const t=await e.json();if(null!==(d=t.errors)&&void 0!==d&&d.length){D.printLog({message:t.errors,error:!0});break}a.data.product.variants.nodes.push(...t.data.product.variants.nodes),l=t.data.product.variants.pageInfo.hasNextPage,c=t.data.product.variants.pageInfo.endCursor}catch(e){D.printLog({message:"Error during pagination request",error:!0});break}return a})({json:i,graphqlApiUrl:a,fetchOptions:e,variables:r,query:t})),i}catch(e){D.printLog({message:`Error fetching product data from storefront: ${e.message}`,error:!0})}return null};const C={getData:e=>{if(window.sessionStorage&&"string"==typeof e){const t=sessionStorage.getItem(e);if(t)return JSON.parse(t)}return null},getKey:e=>{let t=e.handleOrId,a=e.defaultLanguage,r=e.url,n=e.country,o=void 0===n?null:n,i=e.language,s=void 0===i?null:i,l=e.forceStorefront,c=void 0!==l&&l,d=e.detail,u=void 0===d?_:d;if(!window.sessionStorage)return null;const p=t||D.getHandleFromURL(r),h=E();let g;var m;let v;return g=o||((null===(m=window.Shopify)||void 0===m?void 0:m.country)||"NULL"),v=s||(a?D.convertLanguageCode(h.default_language):D.convertLanguageCode(h.current_language)),v=v.toUpperCase(),"storefront"===window.vskData.product_data_source||c?`starapps_storefront_${u}_${p}_${v}_${g}`:`starapps_${p}_${v}_${g}`},setData:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t;if(window.sessionStorage&&"string"==typeof e&&"object"==typeof r){const t=(new Date).getTime();null!=r?r.created_at=t:r={id:null,created_at:t};const n=JSON.stringify(r);if(a)try{sessionStorage.setItem(e,n)}catch(e){}else setTimeout((()=>{try{sessionStorage.setItem(e,n)}catch(e){}}),0);return!0}return!1}};var V=C,q=e=>{let t=e.keyIdentifier,a=e.countryCode,r=void 0===a?null:a,n=e.languageCode,o=void 0===n?null:n,i=e.product;V.setData(V.getKey({handleOrId:t,defaultLanguage:!1,country:r,language:o,detail:v}),i,!0)};function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var R=async e=>{var t,a;const r=D.extractProductHandle(e),n=V.getData(V.getKey({handleOrId:r,defaultLanguage:!1,detail:v}));if(n)return n;let o,i;if(D.isStorefront()){var s;if(i=await L({query:A.byHandle(r),isOptions:!0}),null===(s=i)||void 0===s||null===(s=s.data)||void 0===s||!s.product)return D.printLog({message:`Storefront query failed for handle: ${r}`,error:!0}),null;o=i.data.product}else o=await(async e=>{try{const t=window.decodeURI(window.location.pathname.replace(/\/$/,""));let a;a=e?`${E().current_url}/products/${e}.js`:`${t}.js`;const r=await fetch(a);return{product:await r.json(),source:"js"}}catch(e){D.printLog({message:`Error fetching product data from js. Error: ${e}`,error:!0})}return{}})(r);if(!o)return D.printLog({message:`No product data found for handle: ${r}`,error:!0}),null;if((null===(t=o.variants)||void 0===t?void 0:t.length)>0||(null===(a=o)||void 0===a||null===(a=a.variants)||void 0===a||null===(a=a.nodes)||void 0===a?void 0:a.length)>0){var l,c;let e=o.id;if("string"==typeof o.id){const t=o.id.match(/\d+/);null!=t&&t[0]&&(e=(d=t,u=1,function(e){if(Array.isArray(e))return e}(d)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,s=[],l=!0,c=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=o.call(a)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(d,u)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?N(e,t):void 0}}(d,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0])}const t=null===(l=i)||void 0===l||null===(l=l.extensions)||void 0===l||null===(l=l.context)||void 0===l?void 0:l.country,a=null===(c=i)||void 0===c||null===(c=c.extensions)||void 0===c||null===(c=c.context)||void 0===c?void 0:c.language;q({keyIdentifier:o.handle,countryCode:t,languageCode:a,product:o}),D.isStorefront()&&q({keyIdentifier:e,countryCode:t,languageCode:a,product:o})}var d,u;return o};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){G(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function G(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const H=e=>{let t=e.productDataStore;const a=t.isProductGridInstance,r=t.instance,n=window.vskData.presets;let o=a?void 0:n[window.vskData.app_setting.default_preset];return a?o={assoc_view_type:"hidden"}:void 0===o&&Object.values(n).forEach((e=>{"button"===e.assoc_view_type&&e.apply_to===r&&(o=e)})),o};var z=e=>{let t=e.productDataStore;const a=t.isProductGridInstance,r=window.vskData,n=r.presets,o=r.product_options,i={},s=H({productDataStore:t}),l=window.matchMedia?window.matchMedia(y):window.screen.width<=768;for(let e=0;e<o.length;e+=1){const t=o[e];let r=null,c=null,d=null;if(a){let e=t.collections_preset_id;d=t.collections_swatch,!t.same_collections_preset_for_mobile&&l.matches&&(e=t.mobile_collections_preset_id,d=t.mobile_collections_swatch),r=null==e||"0"===e.toString()?{assoc_view_type:"hidden"}:n[e]}else{let e=t.products_preset_id;c=t.products_swatch,!t.same_products_preset_for_mobile&&l.matches&&(e=t.mobile_products_preset_id,c=t.mobile_products_swatch),r=n[e]}r=void 0!==r?F({trigger_action:t.trigger_action,products_swatch:c,collections_swatch:d},r):F({trigger_action:t.trigger_action},s),i[t.name]=r}return i},B=H,W=()=>({assoc_view_type:"hidden"});function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,s=[],l=!0,c=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=o.call(a)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const Z=(e,t)=>{if(!e.featured_image)return e;const a=e;if(a.featured_image.secondary_src=e.featured_image.src,a.featured_image.last_src=e.featured_image.src,void 0!==t&&t.length>1){const e=t[1];a.featured_image.secondary_src=e,a.featured_image.last_src=t[t.length-1]}return a},X=(e,t)=>{const a=e.find((e=>e.name===t));return a?a.id.split("ProductOptionValue/")[1]:null},J=async e=>{let t=e.product,a=e.untranslatedData,r=void 0===a?null:a,n=e.productDataStore;const o=n.beautifyVariantPicker;let i,s=t.options,l=t.variants,c=t.images;i=D.isStorefront()?U(t.id.match(/\d+/),2)[1]:t.id;const d={handle:t.handle,id:i,vendor:t.vendor,publishedAt:t.publishedAt};if(D.isStorefront()){if(l=t.variants?t.variants.nodes:null,c=t.images?t.images.nodes.map((e=>e.url)):null,l&&c){const e={};t.images.nodes.forEach(((t,a)=>{e[t.id]=a+1}));for(let t=0;t<l.length;t+=1)if(l[t].featured_image){const a=l[t].featured_image.id,r=e[a];void 0!==r&&(l[t].featured_image.position=r)}}i=U(t.id.match(/\d+/),1)[0]}else i=t.id,t.options_with_values&&(s=t.options_with_values);if(E().not_default_language&&!r){const e=await(async e=>{if(!e)return null;const t=V.getData(V.getKey({handleOrId:e,defaultLanguage:!0,forceStorefront:!0,detail:v}));return t&&null!==t.id?Promise.resolve({data:{product:t}}):L({query:A.byId(e,!0),isOptions:!0})})(i),a=e.data.product;return V.setData(V.getKey({handleOrId:i,defaultLanguage:!0,forceStorefront:!0,detail:v}),a),J({product:t,untranslatedData:a,productDataStore:n})}d.untranslatedHandle=null==r?void 0:r.handle;let u=!1,p=!1;if(!o)return{hasDefaultVariant:!0,infoTree:d};if(1===l.length&&(u=!0,l[0].title.toLowerCase().includes("default")))return p=!0,{infoTree:d,hasSingleVariant:u,hasDefaultVariant:p};const h=z({productDataStore:n});n.optionPresetMap=h;const g=B({productDataStore:n});for(let e=0;e<s.length;e+=1){let t=null;if(null==r)t=h[s[e].name];else{const a=r.options[e].name;s[e].untranslated_name=a,t=h[a]}s[e].view_type_preset=t??g}const m=(e=>{let t=e.images,a=e.originalVariants,r=e.options,n=e.untranslatedData;const o=((e,t)=>{const a={};let r=null,n=null;for(let o=0;o<e.length;o+=1){const i=o+1;for(let e=0;e<t.length;e+=1){const o=t[e],s=o.featured_image;if(!s)continue;const l=D.isStorefront()?o.id.split("/ProductVariant/")[1]:o.id,c=parseInt(`${s.position}`,10);if(i===c){r=l,n=i;break}null!=r&&n===c&&(a[l]=a[r])}null!=r&&(void 0===a[r]&&(a[r]=[]),a[r].push(e[o]))}return a})(t,a);let i={};const s=i,l={},c={};let d={};const u={},p=a;for(let e=0;e<p.length;e+=1){let t=p[e].id,a=p[e].available;if(D.isStorefront()&&(t=p[e].id.split("ProductVariant/")[1]?p[e].id.split("ProductVariant/")[1]:p[e].id,p[e].id=t,a=p[e].availableForSale,p[e].options=[]),null==u.first_or_available_variant)if(a)u.first_or_available_variant=p[e];else if(e===p.length-1){var h=U(p,1);u.first_or_available_variant=h[0]}p[e]=Z(p[e],o[t]),c[t]=p[e],i=s;let m=null;const _=D.isStorefront()?parseFloat(p[e].price.amount):p[e].price;for(let s=0;s<r.length;s+=1){const l=`option${s+1}`,c=r[s].name,d=r[s].view_type_preset,u=D.isStorefront()?p[e].selectedOptions[s].value:p[e][l],h=D.isStorefront()?X(r[s].optionValues,p[e].selectedOptions[s].value):null;p[e][l]=D.morphValues(u),p[e].options[s]=p[e][l],void 0===i[l]&&(i[l]=[]);let v=!1,w=1;const f=i[l].length;for(let t=f-1;t>=0;t-=1){const a=i[l][t];if(void 0!==a&&(v=a.name===c&&a.value===p[e][l],v)){w=f-t;break}}if(v)null!=m&&(a&&(m.available=a),_>=0&&(m.min_price=m.min_price&&_>m.min_price?m.min_price:_,m.max_price=m.max_price&&_<m.max_price?m.max_price:_));else{const v={};var g;if(v.name=c,v.untranslated_name=r[s].untranslated_name,v.value=p[e][l],v.original_value=u,v.option_value_id=h,v.view_type_preset=d,v.available=!1,v.compare_at_price=p[e].compareAtPrice,null!=n&&(v.untranslated_value=null==n||null===(g=n.variants)||void 0===g||null===(g=g.nodes)||void 0===g||null===(g=g[e])||void 0===g||null===(g=g.selectedOptions)||void 0===g||null===(g=g[s])||void 0===g?void 0:g.value),D.isASwatch(d.assoc_view_type)&&(v.featured_image=p[e].featured_image,v.featured_image)){v.featured_image.secondary_src=v.featured_image.src,v.featured_image.last_src=v.featured_image.src;const e=o[t];if(void 0!==e&&e.length>1){const t=e[1];v.featured_image.secondary_src=t;const a=e[e.length-1];v.featured_image.last_src=a}}null!=m&&a&&(m.available=a),null!=m&&_>=0&&(m.min_price=m.min_price&&_>m.min_price?m.min_price:_,m.max_price=m.max_price&&_<m.max_price?m.max_price:_),s===r.length-1&&(v.variant_id=t,v.available=a,v.min_price=_,v.max_price=_),i[l].push(v)}i=i[l][i[l].length-w],m=i}d=l;const v=D.isStorefront()?p[e].selectedOptions:p[e].options;for(let e=0;e<v.length;e+=1){const t=D.isStorefront()?v[e].value:v[e];void 0===d[t]&&(d[t]={min_price:_,max_price:_}),d[t].min_price=Math.min(d[t].min_price,_),d[t].max_price=Math.max(d[t].max_price,_),d=d[t]}}return{mainOutput:s,optionNodePrice:l,variantsDict:c}})({images:c,originalVariants:l,options:s,untranslatedData:r}),_=m.variantsDict,w=m.optionNodePrice,f=m.mainOutput;let b=null;return D.isStorefront()?(b=t.featuredImage?t.featuredImage.url:null,!b&&t.images.nodes&&t.images.nodes.length>0&&(b=t.images.nodes[0].url)):(b=t.featured_image,!b&&t.images&&t.images.length>0&&(b=U(t.images,1)[0]),b&&"object"==typeof b&&(b=b.src)),{tree:f,options:s,variants:_,priceInfoTree:w,defaultFeaturedImage:b,infoTree:d,hasSingleVariant:u,hasDefaultVariant:p}};var Y=J;const Q="new",ee="sold_out",te="sale",ae=e=>{const t=document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t.body.children},re=e=>{let t=e.optionTag,a=e.html,r=e.swatchRootElement,n=e.productDataStore;const o=r.querySelector(`[option-target="${t}"]`),i=o.querySelector(".swatch-single"),s=o.querySelector(".swatch-size-chart");i&&(s&&o.insertBefore(s,i),o.removeChild(i));const l=ae(a)[0];o.appendChild(l),o.classList.remove("swatch-hide");const c=o.querySelector("label.swatch-label"),d=o.querySelector(".visually-hidden-label"),u=o.querySelector("legend");if(!n.isProductGridInstance){const e=window.vskData.app_setting_config.size_chart,t=[{type:"size_chart",append_to:"span.swatch-size-chart"}];Object.values(t).forEach((t=>{const a=n.productCardElement.querySelector(t.append_to);if(a){const t=a.parentElement.querySelector("span.swatch-label-container");if(t){const r=`size-chart-${e.position}`;t.classList.add(r),u.appendChild(d),t.appendChild(c),t.appendChild(a)}}}))}return o.querySelectorAll(".swatch-selector")},ne=e=>{let t=e.selectors,a=e.withParent,r=e.productCardElement;a&&r.querySelectorAll(t).forEach((e=>{e.parentNode.style.display="none"})),(e=>{const t=document.querySelector('style[app="vsk"][role="hide_elements"]');let a="";if("object"==typeof e)for(let t=0;t<e.length;t+=1)a+=e[t],t<e.length-1&&(a+=",");else"string"==typeof e&&(a=e);a.trim()&&(t?t.innerHTML+=`${a}{display: none!important;}`:(a=`<style type="text/css" app="vsk" role="hide_elements">${a}{display: none!important;}</style>`,document.querySelector("head").appendChild(ae(a)[0])))})(t)},oe=e=>e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;"),ie=()=>{const e=o.get(i),t=window.vskData.app_setting_config.size_chart.size_chart_app_selector.split(",").filter(Boolean),a=e.settings.products.size_chart_selector.split(",").filter(Boolean);return[...new Set([...t,...a])].join(",")},se=e=>{let t=e.productDataStore,a=e.isProductGroup,r=void 0!==a&&a;const n=t.options,s=t.isProductGridInstance,l=t.productCardElement,c=t.instance,d=ie(),u=!s&&d,p=window.vskData.app_setting_config,h=p.size_chart;let g="";if(g+=`<div class="swatches swatches-type-${c} ${void 0===window.matchMedia||window.matchMedia("(hover: hover)").matches?"hover-enabled":"hover-disabled"}${p.notranslate?" notranslate":""}" ${s&&(e=>{const t=e.querySelector("variant-swatch-king").parentNode.getBoundingClientRect().width;return`style="width: ${t?`${t}px`:"100%"}; z-index: ${o.get(i).settings.collections.layer_index};"`})(l)}>\n  <div sa-group-position="top"></div><div sa-options-position="default">`,!r)for(let e=0;e<n.length;e+=1){const t=s?"":`id="swatch-option${e+1}"`;let a="swatch-hide",r=n[e].untranslated_name??n[e].name;r=oe(r.trim());let o="";u&&-1!==h.labels.split(",").indexOf(r)&&(o+='<span class="swatch-size-chart"></span>'),"all"===D.hideSingleValueOption(c)&&n[e].values.length<=1&&(a+=" option-single-value"),g+=`<div ${t} option-name="${r}" option-target="option${e+1}" class="${a}">\n        ${o}\n        </div>`}return g+='</div><div sa-group-position="bottom"></div>',g},le=e=>{let t=e._content,a=e.productDataStore,r=e.swatchRootElement;const n=a.isProductGridInstance,o=a.productCardElement,i=a.instance,s=r||a.swatchRootElement,l=s.querySelector(`.swatches.swatches-type-${i}`);l&&l.querySelector("[option-target]")&&l.parentNode.removeChild(l),s.innerHTML=t,n||[{type:"size_chart",append_to:"span.swatch-size-chart",element_selector:ie()}].forEach((e=>{const t=e.append_to,a=e.element_selector;if(a){const e=o.querySelector(t);if(e){const t=new MutationObserver(((t,r)=>{const n=document.querySelector(a);if(n){e.appendChild(n);const t=e.parentElement;if(t){const a=t.querySelector("span.swatch-label-container");if(a){const t=`size-chart-${window.vskData.app_setting_config.size_chart.position}`;a.classList.add(t),a.appendChild(e)}}r.disconnect()}}));t.observe(document.body,{childList:!0,subtree:!0}),setTimeout((()=>t.disconnect()),5e3)}}}))},ce=e=>e===u,de=e=>{let t=e.productDataStore;return window.vskData.app_setting_styles[`${t.instance}_swatch_presentation`]},ue=e=>{let t=e.direction,a=e.productDataStore;return`<div class="swatch-navigation-wrapper" navigation="${t}"><div class="swatch-navigation ${"left"===t?"swatch-navigation-left":"swatch-navigation-right"}" data-navigation="${t}" role="presentation" tabindex="0">\n  ${"left"===t?(e=>{let t=e.productDataStore;return""!==de({productDataStore:t}).slide_left_button_svg?de({productDataStore:t}).slide_left_button_svg.replace(RegExp("<[a-z]+","gi"),' swatch-inside="true"'):'<svg viewBox="0 0 24 24" focusable="false" swatch-inside="true" style="enable-background:new 0 0 477.175 477.175;" xml:space="preserve"><path swatch-inside="true" d="M0 0h24v24H0z" fill="none"></path><path swatch-inside="true" d="M8.59,16.59L13.17,12L8.59,7.41L10,6l6,6l-6,6L8.59,16.59z"></path></svg>'})({productDataStore:a}):(e=>{let t=e.productDataStore;return""!==de({productDataStore:t}).slide_right_button_svg?de({productDataStore:t}).slide_right_button_svg.replace(RegExp("<[a-z]+","gi"),' swatch-inside="true"'):'<svg viewBox="0 0 24 24" focusable="false" swatch-inside="true" style="enable-background:new 0 0 477.175 477.175;" xml:space="preserve"><path swatch-inside="true" d="M0 0h24v24H0z" fill="none"></path><path swatch-inside="true" d="M8.59,16.59L13.17,12L8.59,7.41L10,6l6,6l-6,6L8.59,16.59z"></path></svg>'})({productDataStore:a})}\n  </div></div>`},pe=e=>{let t=e.type,a=void 0===t?"swatch-view-stack":t;return e.productDataStore.isProductGridInstance?"swatch-view-stack"===a?`swatch-align-${window.vskData.block_collection_settings.alignment}`:`swatch-slider-align-${window.vskData.block_collection_settings.alignment}`:""},he=e=>{let t=e.preset,a=void 0===t?null:t,r=e.isProductGridInstance;const n=o.get(i);return r?n.settings.collections.display_label:!a||!a.params||void 0===a.params.display_label||a.params.display_label},ge=e=>{let t=e.width,a=e.height;const r=t.split("px")[0],n=a.split("px")[0],o=2*Math.max(r,n);return o<=50?50:o>=300?300:100*Math.ceil(o/100)},me=e=>{const t=new Date(e);return new Date<t.setDate(t.getDate()+parseInt(window.vskData.app_setting_config.preset_badge.new_product_max_duration,10))},_e=()=>!!o.get(i).settings.products.handleize,ve=(e,t)=>{let a=e,r=t;for(let e=0;e<g.length;e+=1){const t=g[e];a=a.replace(RegExp(`\\${t.char}`,"gi"),t.replacer),r=r.replace(RegExp(`\\${t.char}`,"gi"),t.replacer)}return a=encodeURIComponent(a),r=encodeURIComponent(r),"cdn"===window.vskData.app_setting.swatch_url_source&&(a=encodeURIComponent(a),r=encodeURIComponent(r)),`https://${D.getSwatchUrlHost()}/apps/${window.vskData.swatch_dir}/${window.Shopify.shop.split(".myshopify.com")[0]}/swatches/${a}/${r}.media`},we=e=>{let t=e.src,a=e.boxDimensions,r=e.backgroundSize,n=e.position,o=!0,i=r;"cover"!==i&&"contain"!==i||("contain"===i&&(o=!1),i="100%"),i=parseInt(i.replace("%",""),10),i*=2;let s="center";n&&(s=n);let l=`width=${parseInt(a[0].replace("px",""),10)*(i/100)}&height=${parseInt(a[1].replace("px",""),10)*(i/100)}${o?`&crop=${s}`:""}`;return l=t.includes("?")?`&${l}`:`?${l}`,t.match(/(\.jpg)(?=$|\?)/gm)&&(l+=""),t+l},fe=e=>window.vskData.app_setting_config.preset_badge.order.find((t=>t.name===e)).order,be=(e,t)=>{const a=parseFloat(e-t,10),r=e>0?a/e*100:0;return e>t&&r>=window.vskData.app_setting_config.preset_badge.min_price_diff_for_sale_badge?((e,t)=>{const a={"{{currency_symbol}}":window.vskData.currency_symbol,"{{currency_code}}":window.vskData.currency,"{{amount_save}}":e.toFixed(2),"{{percentage_save}}":`${t.toFixed(2)}%`};return P(window.vskData.app_setting_config.preset_badge.sale_badge_text).replace(/{{(?:currency_symbol|currency_code|amount_save|percentage_save)}}/g,(e=>a[e]))})(a,r):""},ye=e=>{let t=!0;const a=window.vskData.app_setting_config.preset_badge.order.sort(((e,t)=>e.order-t.order)).map((e=>e.name)),r=a.indexOf(Q),n=-1!==r?a.slice(0,r):[],o=n.includes(ee),i=n.includes(te);for(let a=0;a<e.data.length;a+=1){if(!me(e.data[a].published_at)){t=!1;break}if(o&&!e.data[a].available){t=!1;break}if(i&&be(e.data[a].min_compare_at_price,e.data[a].min_price)){t=!1;break}}return t},Se=(e,t,a)=>{let r="",n=Number.MAX_SAFE_INTEGER;if(window.vskData.product_data_source===d){const o=!!e.params.new_badge&&e.params.new_badge.enable,i=!!e.params.sale_badge&&e.params.sale_badge.enable,s=!!e.params.sold_out_badge&&e.params.sold_out_badge.enable,l=be(t.min_compare_at_price,t.min_price),c=window.vskData.app_setting_config.preset_badge;o&&n>fe(Q)&&me(t.published_at)&&!a&&(r=`<span swatch-inside="true" class='new-badge' style='color: ${c.new_badge_color}; background-color: ${c.new_badge_bg_color};' >\n          ${P(window.vskData.app_setting_config.preset_badge.new_badge_text)}\n      </span>`,n=fe(Q)),s&&n>fe(ee)&&!t.available&&(r=`<span swatch-inside="true" class='sold-out-badge' style='color: ${c.sold_out_badge_color}; background-color: ${c.sold_out_badge_bg_color};'>\n            ${P(c.sold_out_badge_text)}\n      </span>`,n=fe(ee)),i&&l&&n>fe(te)&&(r=`<span swatch-inside="true" class='sale-badge' style='color: ${c.sale_badge_color}; background-color: ${c.sale_badge_bg_color};'>\n          ${l}\n      </span>`,n=fe(te))}return r},$e=(e,t)=>{let a;return a=["second_product_image","second_variant_image"].includes(t)?e.secondary_src:["last_product_image","last_variant_image"].includes(t)?e.last_src:e.src,a||(a=e.src),a},ke=e=>{let t=e.featuredImageObject,a=e.productSwatch,r=e.collectionSwatch,n=null;return n=e.productDataStore.isProductGridInstance?$e(t,r):$e(t,a),n},De=e=>{let t=e.preset,a=e.productDataStore,r=e.optionTag,n=e.option;if(!t||!t.assoc_view_type)return null;const o={preset:t,optionTag:r,option:n,productDataStore:a};switch(t.assoc_view_type){case"swatch":return"custom_swatch"===t[`${a.instance}_swatch`]?(e=>{let t=e.preset,a=e.optionTag,r=e.option,n=e.productDataStore;const o=n.isProductGridInstance,i=`swatch-view-${t.params.swatch_style}`,s=void 0!==r.product_group_index,l=s?`data-group-index="${r.product_group_index}"`:"";let c=`<div class="swatch-single swatch-preset-${t.id} ${i}" ${l}><fieldset>`;c+=`<legend><label class="swatch-label swatch-label-custom-image ${he({preset:t,isProductGridInstance:o})?"":"star-hide"}">\n      <input type="checkbox" name="${oe(r.name)}" value="true" checked="checked" />\n      <span class="swatch-option-name">${r.name}</span>\n      ${t.params.display_variant_label?'<span class="swatch-variant-name"></span>':""}\n      </label></legend>`,c+=`<span class="swatch-label-container"><label class="visually-hidden-label"><span class="swatch-option-name">${r.name}</span></label></span>`,"swatch-view-slide"===i&&(c+='<div class="swatch-navigable-wrapper">',c+='<div class="swatch-navigable">',c+=ue({direction:"left",productDataStore:n}));const d="tooltip"===t.params.option_value_display,u=o?"32px":"80px",p=o?"32px":"80px";c+=`<ul class="swatch-view swatch-view-custom-image${d?" swatch-with-tooltip":""} ${pe({type:i,productDataStore:n})}" role="radiogroup">`;const h=t.params.width||t.params.swatch_size||u,g=t.params.height||t.params.swatch_size||p,m=ge({width:h,height:g});for(let e=0;e<r.data.length;e+=1){let n=r.data[e].value;const o=oe(n),i=r.data[e].option_value_id;let l=o;const u=!0===r.data[e].available,p=ye(r);_e()&&(n=r.data[e].original_value,l=oe(n));const v=s&&r.data[e].selected;if("invisible"===t.params.stock_out_type&&0!==r.available_count&&!u&&!v)continue;c+=`<li class="swatch-view-item${u?"":" swatch-item-unavailable"}" orig-value="${o}" ${i?`option-value-id="${i}"`:""} aria-label="${o}${u?"":" - Sold Out"}" role="radio" ${s&&r.data[e].selected?'aria-checked="true"':'aria-checked="false"'} tabindex="0">`,c+='<div class="swatch-image-wrapper">',"outside_swatch"===t.params.badge_position&&(c+=Se(t,r.data[e],p)),c+=`<div class="swatch-custom-image ${s?"swatch-group-selector":"swatch-selector"}" type="image" data-value="${l}" orig-value="${o}" ${i?`option-value-id="${i}"`:""} ${s?`swatch-url="${r.data[e].url}" `:""}swatch-option="${a}"${s&&r.data[e].selected?' current-product="true"':""}>`;let w=null;if(s){if(s){var _;w=we({src:null==r||null===(_=r.data)||void 0===_||null===(_=_[e])||void 0===_||null===(_=_.featured_image)||void 0===_?void 0:_.src,boxDimensions:[h,g],backgroundSize:t.params.background_size,position:t.params.background_position})}}else{const t=r.untranslated_name?r.untranslated_name:r.name,a=r.data[e].untranslated_value?r.data[e].untranslated_value:n;w=ve(t,a)}if(window.vskData.app_setting_config.use_optimized_urls){const e=w.split("/");w=`${e.slice(0,-1).join("/")}/${m}/${e.pop().replace(".media",".webp")}`}if(c+=`<div style="width:${h};height:${g};background-image: url(${w});" class="star-set-image" swatch-inside="true">`,"outside_swatch"!==t.params.badge_position&&(c+=Se(t,r.data[e],p)),c+='<i class="hidden"></i></div>',c+=`<div class="${"adjacent"===t.params.option_value_display?"swatch-img-text-adjacent":"swatch-img-text swatch-img-text-hidden"}" swatch-inside="true"><p swatch-inside="true">${l}</p></div>`,t.params.price_badge){const a=!!t.params.price_badge.price_enabled;(!s||s&&!0===r.show_price&&!window.vskData.is_b2b)&&(c+=`<div class="${a?"swatch-price-adjacent":"swatch-price-hidden"}" swatch-inside="true"><span swatch-inside="true">${r.data[e].price}</span></div>`)}c+="</div></div>",d&&(c+=`<div class="swatch-tool-tip">\n          <span class="swatch-tool-tip-text">${l}</span>\n          </div>\n          <div class="swatch-tool-tip-pointer"></div>`),c+="</li>"}return c+="</ul>","swatch-view-slide"===i&&(c+=ue({direction:"right",productDataStore:n}),c+="</div></div>"),c+="</fieldset></div>",c})(o):(e=>{let t=e.preset,a=e.optionTag,r=e.option,n=e.productDataStore;const o=n.isProductGridInstance,i=n.defaultFeaturedImage,s=`swatch-view-${t.params.swatch_style}`,l=ye(r),c=void 0!==r.product_group_index,d=c?`data-group-index="${r.product_group_index}"`:"";let u=`<div class="swatch-single swatch-preset-${t.id} ${s}" ${d}><fieldset>`;u+=`<legend><label class="swatch-label swatch-label-image ${he({preset:t,isProductGridInstance:o})?"":"star-hide"}">\n      <input type="checkbox" name="${oe(r.name)}" value="true" checked="checked" />\n      <span class="swatch-option-name">${r.name}</span>\n      ${t.params.display_variant_label?'<span class="swatch-variant-name"></span>':""}\n      </label></legend>`,u+=`<span class="swatch-label-container"><label class="visually-hidden-label"><span class="swatch-option-name">${r.name}</span></label></span>`,"swatch-view-slide"===s&&(u+='<div class="swatch-navigable-wrapper">',u+='<div class="swatch-navigable">',u+=ue({direction:"left",productDataStore:n}));const p="tooltip"===t.params.option_value_display,h=o?"32px":"80px",g=o?"32px":"80px";u+=`<ul class="swatch-view swatch-view-image${p?" swatch-with-tooltip":""} ${pe({type:s,productDataStore:n})}" role="radiogroup">`;const m=t.params.width||t.params.swatch_size||h,_=t.params.height||t.params.swatch_size||g;for(let e=0;e<r.data.length;e+=1){const o=oe(r.data[e].value),s=r.data[e].option_value_id;let d=o;const h=!0===r.data[e].available;_e()&&(d=oe(r.data[e].original_value));const g=c&&r.data[e].selected;if("invisible"===t.params.stock_out_type&&0!==r.available_count&&!h&&!g)continue;u+=`<li class="swatch-view-item${h?"":" swatch-item-unavailable"}" orig-value="${o}" ${s?`option-value-id="${s}"`:""} aria-label="${o}${h?"":" - Sold Out"}" role="radio" ${c&&r.data[e].selected?'aria-checked="true"':'aria-checked="false"'} tabindex="0">`,u+='<div class="swatch-image-wrapper">',"outside_swatch"===t.params.badge_position&&(u+=Se(t,r.data[e],l)),u+=`<div class="swatch-image ${c?"swatch-group-selector":"swatch-selector"}" type="image" data-value="${d}" orig-value="${o}" ${s?`option-value-id="${s}"`:""} ${c?`swatch-url="${r.data[e].url}" `:""}swatch-option="${a}"${c&&r.data[e].selected?' current-product="true"':""}>`;let v=i;const w=r.data[e].featured_image;void 0!==w&&(v=ke({featuredImageObject:w,productSwatch:t.products_swatch,collectionSwatch:t.collections_swatch,productDataStore:n}));const f=v&&"none"!==v;f&&(D.printLog({message:`Requested background image with URL(${v})`,error:!1}),v=we({src:v,boxDimensions:[m,_],backgroundSize:t.params.background_size,position:t.params.background_position})),u+=`<div style="width:${m};height:${_};background-image:url(${v});" class="star-set-image" swatch-inside="true">`,"outside_swatch"!==t.params.badge_position&&(u+=Se(t,r.data[e],l)),u+='<i class="hidden"></i></div>';const b="adjacent"===t.params.option_value_display;if(u+=`<div class="${b?"swatch-img-text-adjacent":"swatch-img-text"}${!b&&f?" swatch-img-text-hidden":""}" swatch-inside="true"><p swatch-inside="true">${d}</p></div>`,t.params.price_badge){const a=!!t.params.price_badge.price_enabled;(!c||c&&!0===r.show_price&&!window.vskData.is_b2b)&&(u+=`<div class="${a?"swatch-price-adjacent":"swatch-price-hidden"}" swatch-inside="true"><span swatch-inside="true">${r.data[e].price}</span></div>`)}u+="</div></div>",p&&(u+=`<div class="swatch-tool-tip">\n          <span class="swatch-tool-tip-text">${d}</span>\n          </div>\n          <div class="swatch-tool-tip-pointer"></div>`),u+="</li>"}return u+="</ul>","swatch-view-slide"===s&&(u+=ue({direction:"right",productDataStore:n}),u+="</div></div>"),u+="</fieldset></div>",u})(o);case"drop_down":return(e=>{let t=e.preset,a=e.optionTag,r=e.option,n=e.productDataStore;const o=void 0!==r.product_group_index,i=o?` data-group-index="${r.product_group_index}"`:"";let s,l=`<div class="swatch-single swatch-preset-${t.id} swatch-view-stack"${i}><fieldset>`,c="",d="";"default"===t.params.dropdown_type&&(l+=`<legend><label class="swatch-label swatch-label-drop-down ${he(t)?"":"star-hide"}">\n      <input type="checkbox" name="${oe(r.name)}" value="true" checked="checked" />\n      <span>${r.name}<span class="label-seperator">${t.params.seperator}</span></span></label></legend>`,l+=`<span class="swatch-label-container"><label class="visually-hidden-label"><span>${r.name}</span></label></span>`),l+=`<div class="swatch-drop-down-wrapper ${pe({productDataStore:n})} swatch-drop-down-custom">`,l+=`<div class="swatch-drop-down-inner ${"label_inside"===t.params.dropdown_type?"swatch-drop-down-label":""}">`,"label_inside"===t.params.dropdown_type&&(l+=`<div class="swatch-label-inside"><legend><label class="swatch-label swatch-label-drop-down">\n      <input type="checkbox" name="${oe(r.name)}" value="true" checked="checked" />\n      <span  >${r.name}<span class="label-seperator">${t.params.seperator}</span></span></label></legend></div>`),l+=`<div type="select" custom-select=true class="swatch-selector swatch-view swatch-drop-down swatch-drop-down-selected" swatch-option="${a}" aria-label="{{ option_value_text }}"  aria-haspopup="listbox" aria-expanded="false" tabindex="0">{{ option_value }}</div>`,l+='<ul class="swatch-drop-down-list" role="listbox">';for(let e=0;e<r.data.length;e+=1){const n=oe(r.data[e].value),i=r.data[e].option_value_id;let s=n;const u=r.data[e].price,p=!0===r.data[e].available;_e()&&(s=oe(r.data[e].original_value));const h=o&&r.data[e].selected;"invisible"===t.params.stock_out_type&&0!==r.available_count&&!p&&!h||(s.length>c.length&&(c=s,d=`<span swatch-inside='true' class='d-flex'> <span swatch-inside="true"> ${c} </span> ${t.params.display_price?`<span  swatch-inside='true' class='dropdown-swatch-price'>${u} </span>`:""} </span>`),l+=`<li value="${o?r.data[e].url:n}"  type="select_value" class="swatch-drop-down swatch-allow-animation ${o?"swatch-group-selector":"swatch-selector"} swatch-drop-down-list-item${p?"":" swatch-item-unavailable"}" orig-value="${n}" ${i?`option-value-id="${i}"`:""} ${o?`swatch-url="${r.data[e].url}" `:""}swatch-option="${a}"${o&&r.data[e].selected?' current-product="true"':""} aria-label="${n}${p?"":" - Sold Out"}" role="option" ${o&&r.data[e].selected?'aria-selected="true"':'aria-selected="false"'} tabindex="0">`,l+=`<span swatch-inside='true' class='d-flex'> <span swatch-inside="true"> ${s} </span> ${t.params.display_price?`<span  swatch-inside='true' class='dropdown-swatch-price'>${u} </span>`:""} </span>`,l+="</li>")}return l+="</ul>",s="double_triangle"===t.params.icon_style?'<svg viewBox="0 0 20 20" class="swatch-drop-down-svg"><path d="M7.676 9h4.648c.563 0 .879-.603.53-1.014l-2.323-2.746a.708.708 0 0 0-1.062 0l-2.324 2.746c-.347.411-.032 1.014.531 1.014Zm4.648 2h-4.648c-.563 0-.878.603-.53 1.014l2.323 2.746c.27.32.792.32 1.062 0l2.323-2.746c.349-.411.033-1.014-.53-1.014Z"></path></svg>':"inverted_triangle"===t.params.icon_style?'<svg class="swatch-drop-down-svg" viewBox="0 0 20 20"><path d="m5 8 5 5 5-5H5z"></path></svg>':'<svg class="swatch-drop-down-svg" focusable="false" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg>',l+=s,l+="</div>",l+="</div>",l+="</fieldset></div>",l=l.replace("{{ option_value_text }}",c),l=l.replace("{{ option_value }}",d),l})(o);case"swatch_drop_down":return(e=>{let t=e.preset,a=e.optionTag,r=e.option,n=e.productDataStore;const o=n.isProductGridInstance,i=n.instance,s=n.defaultFeaturedImage,l=void 0!==r.product_group_index,c=l?` data-group-index="${r.product_group_index}"`:"";let d=`<div class="swatch-single swatch-preset-${t.id} swatch-view-stack"${c}><fieldset>`,u="",p="";d+=`<legend><label class="swatch-label swatch-label-drop-down ${he({isProductGridInstance:o})?"":"star-hide"}">\n  <input type="checkbox" name="${oe(r.name)}" value="true" checked="checked" />${r.name}</label></legend>`,d+=`<span class="swatch-label-container"><label class="visually-hidden-label">${r.name}</label></span>`;const h=t[`${i}_swatch`],g=o?"24px":"48px",m=o?"24px":"48px",_=t.params.swatch_size||g,v=t.params.swatch_size||m,w=ge({width:_,height:v});d+=`<div class="swatch-drop-down-wrapper ${pe({productDataStore:n})} swatch-drop-down-custom">`,d+='<div class="swatch-drop-down-inner">',d+=`<div type="select" class="swatch-view swatch-drop-down" swatch-option="${a}" aria-label="{{ option_value_text }}" aria-haspopup="listbox" aria-expanded="false" tabindex="0">{{ option_value }}</div>`,d+='<ul class="swatch-drop-down-list" role="listbox">';for(let e=0;e<r.data.length;e+=1){let o=r.data[e].value;const i=oe(o),c=r.data[e].option_value_id,g=r.data[e].price;let m=i;const f=!0===r.data[e].available;_e()&&(o=r.data[e].original_value,m=oe(o));const b=l&&r.data[e].selected;if("invisible"===t.params.stock_out_type&&0!==r.available_count&&!f&&!b)continue;let y=null;if("custom_swatch"===h){if(l)l&&(y=r.data[e].featured_image.src);else{const t=r.untranslated_name?r.untranslated_name:r.name,a=r.data[e].untranslated_value?r.data[e].untranslated_value:o;y=ve(t,a)}if(window.vskData.app_setting_config.use_optimized_urls){const e=y.split("/");y=`${e.slice(0,-1).join("/")}/${w}/${e.pop().replace(".media",".webp")}`}}else{y=s;const a=r.data[e].featured_image;void 0!==a&&(y=ke({featuredImageObject:a,productSwatch:t.products_swatch,collectionSwatch:t.collections_swatch,productDataStore:n})),""!==y&&"none"!==y&&"null"!==y&&"undefined"!==y&&(y=we({src:y,boxDimensions:[_,v],backgroundSize:t.params.background_size,position:t.params.background_position}))}const S=`<div style="width:${_};height:${v};background-image:url(${y});" class="star-set-image" swatch-inside="true"><i class="hidden"></i></div>`;m.length>u.length&&(u=m,p=`${S} <span swatch-inside="true">${u}</span>`),d+=`<li type="select_value" class="${l?"swatch-group-selector":"swatch-selector"} swatch-drop-down-list-item${f?"":" swatch-item-unavailable"}" orig-value="${i}" ${c?`option-value-id="${c}"`:""} ${l?`swatch-url="${r.data[e].url}" `:""}swatch-option="${a}"${l&&r.data[e].selected?' current-product="true"':""} aria-label="${i}${f?"":" - Sold Out"}" role="option" ${l&&r.data[e].selected?'aria-selected="true"':'aria-selected="false"'} tabindex="0">`,d+=S,d+=`<span swatch-inside="true" class='d-flex'> <span swatch-inside="true"> ${m} </span> ${t.params.display_price?`<span  swatch-inside='true' class='dropdown-swatch-price'>${g} </span>`:""} </span>`,d+="</li>"}let f;return d+="</ul>",f="double_triangle"===t.params.icon_style?'<svg viewBox="0 0 20 20" class="swatch-drop-down-svg"><path d="M7.676 9h4.648c.563 0 .879-.603.53-1.014l-2.323-2.746a.708.708 0 0 0-1.062 0l-2.324 2.746c-.347.411-.032 1.014.531 1.014Zm4.648 2h-4.648c-.563 0-.878.603-.53 1.014l2.323 2.746c.27.32.792.32 1.062 0l2.323-2.746c.349-.411.033-1.014-.53-1.014Z"></path></svg>':"inverted_triangle"===t.params.icon_style?'<svg class="swatch-drop-down-svg" viewBox="0 0 20 20"><path d="m5 8 5 5 5-5H5z"></path></svg>':'<svg class="swatch-drop-down-svg" focusable="false" viewBox="0 0 24 24"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></svg>',d+=f,d+="</div>",d+="</div>",d+="</fieldset></div>",d=d.replace("{{ option_value_text }}",u),d=d.replace("{{ option_value }}",p),d})(o);case"button":return(e=>{let t=e.preset,a=e.optionTag,r=e.option,n=e.productDataStore;const o=n.isProductGridInstance,i=void 0!==r.product_group_index,s=i?` data-group-index="${r.product_group_index}"`:"",l=`swatch-view-${t.params.button_style}`;let c=`<div class="swatch-single swatch-preset-${t.id} ${l}"${s}><fieldset>`;const d=`<legend><label class="swatch-label swatch-label-button ${he({isProductGridInstance:o})?"":"star-hide"}">\n      <input type="checkbox" name="${oe(r.name)}" value="true" checked="checked" />\n      <span class="swatch-option-name">${r.name}</span>${t.params.display_variant_label?'<span class="swatch-variant-name"></span>':""}\n      </label></legend>`,u=`<span class="swatch-label-container"><label class="visually-hidden-label"><span class="swatch-option-name">${r.name}</span></label></span>`;"inline"!==t.params.label_display_position&&(c+=d),"inline"===t.params.label_display_position&&(c+="<div class='inline-label-container'>",c+=d),c+=u,"swatch-view-slide"===l&&(c+='<div class="swatch-navigable-wrapper">',c+=`<div class="swatch-navigable" ${t.params.connected_button?"data-current-scroll=0":""} >`,c+=ue({direction:"left",productDataStore:n})),c+=`<ul class="swatch-view swatch-view-button ${t.params.full_width||t.params.radio_button?"enable-price-alignment":""}  ${pe({type:l,productDataStore:n})}" role="radiogroup">`;for(let e=0;e<r.data.length;e+=1){const n=oe(r.data[e].value),o=r.data[e].option_value_id;let s=n;const l=!0===r.data[e].available;let d="";0===e&&(d+="first-btn"),e===r.data.length-1&&(d+=" last-btn"),_e()&&(s=oe(r.data[e].original_value));const u=i&&r.data[e].selected;if("invisible"!==t.params.stock_out_type||0===r.available_count||l||u){if(c+=`<li class="swatch-view-item${l?"":" swatch-item-unavailable"}" orig-value="${n}" ${o?`option-value-id="${o}"`:""} aria-label="${n}${l?"":" - Sold Out"}" role="radio" ${i&&r.data[e].selected?'aria-checked="true"':'aria-checked="false"'} tabindex="0">`,c+=`<div ${t.params.connected_button?`data-item-idx=${e}`:""}   class=" ${d} swatch-button ${i?" swatch-group-selector":"swatch-selector"} star-set-btn" swatch-option="${a}" type="swatch-button" ${i?`swatch-url="${r.data[e].url}" `:""}data-value="${s}" orig-value="${n}" ${o?`option-value-id="${o}"`:""} ${i&&r.data[e].selected?' current-product="true"':""}>`,c+="  "+(t.params.radio_button?"<div swatch-inside='true' class='radio-button-icon'></div>":""),c+="  <div swatch-inside='true' class=\"swatch-title-and-icon-container\">",c+=`<div class="swatch-button-title-text" swatch-inside="true"><span swatch-inside="true">${s}</span></div>`,t.params.price_badge){const a=!!t.params.price_badge.price_enabled;(!i||i&&!0===r.show_price&&!window.vskData.is_b2b)&&(c+=`<div swatch-inside="true" class="${a?"swatch-price-adjacent swatch-button-price":"swatch-button-price-hidden"}"><span swatch-inside="true">${r.data[e].price}</span></div>`)}c+="</div>",c+="</div>",c+="</li>"}}return c+="</ul>","swatch-view-slide"===l&&(c+=ue({direction:"right",productDataStore:n}),c+="</div></div>"),"inline"===t.params.label_display_position&&(c+="</div>"),c+="</fieldset></div>",c})(o);case"hidden":return((e,t)=>{let a="";for(let r=0;r<t.data.length;r+=1){const n=t.data[r].value,o=oe(n),i=t.data[r].option_value_id,s=!!t.data[r].available;if((""===a||s)&&(a=`<div class="swatch-single swatch-view-stack">\n              <input type="hidden" class="swatch-selector" value="${o}" swatch-option="${e}" orig-value="${o}" ${i?`option-value-id="${i}"`:""} />\n          </div>`,s))break}return a})(o);default:return null}},xe=(e,t,a)=>{if("swatch-pill"!==t.swatch_type&&"button"!==a&&t.adjust_margin_right&&t.adjust_margin_right){const a=e.querySelector("ul.swatch-view");if(a){const r="li.swatch-view-item",n=e.getBoundingClientRect().width,o=parseFloat(t.width.match(/[\d\.]+/g)),i=parseFloat(t.border_width.match(/[\d\.]+/g)),s=t.border_space||t.margin_swatch_horizontal,l=parseFloat(s.match(/[\d\.]+/g)),c=parseFloat(t.margin_right.match(/[\d\.]+/g)),d=parseInt((n+c)/(o+2*i+2*l+c),10);a.querySelectorAll(r).forEach(((e,t)=>{(t+1)%d==0&&(e.style.marginRight=0)}))}}},Oe=e=>{let t=e.optionTag,a=e.element,r=e.selectedValue,n=e.productDataStore;const o="swatch-selected";if(void 0!==n.selectedSwatches[t]){const e=n.selectedSwatches[t];if(e.classList.remove(o),e.removeAttribute("current-product"),e.tagName!==u){const t="LI"===e.tagName?e:e.closest("li.swatch-view-item");t&&("option"===t.getAttribute("role")?t.setAttribute("aria-selected",!1):t.setAttribute("aria-checked",!1))}}if(ce(a.tagName)&&(a.value=r),a.classList.add(o),a.tagName!==u){const e="LI"===a.tagName?a:a.closest("li.swatch-view-item");e&&("option"===e.getAttribute("role")?e.setAttribute("aria-selected",!0):e.setAttribute("aria-checked",!0))}n.selectedSwatches[t]=a};function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const Ee=e=>{let t=e.keyName,a=e.compareValue,r=e.strategy,n=e.options;const o=RegExp("(?:(?:optio.*?\\D)([0-3])(?:\\D|$))|(?:^([0-3])$)|(?:\\D([0-3])$)|(?:^([0-3])\\D)|(?:\\D([0-3])\\D)","gi");let i,s=null,l=5,c=o.exec(t);for(;null!==c;){c.index===o.lastIndex&&(o.lastIndex+=1);for(let e=1;e<=5;e+=1)c[e]&&e<=l&&(s=c[e],l=e);c=o.exec(t)}let d=null;for(let e=0;e<n.length;e+=1){const o=n[e],c=o.name;if(s){const t=parseInt(s,10),n=l<4;if(r&&n&&"zeroed"===r){d=`option${t+1}`;break}if(r&&n){d=`option${t}`;break}{const r=D.isStorefront()?o.optionValues:o.values;for(let o=0;o<r.length;o+=1){const s=r[o];let l=!1;if(D.isStorefront()){const e=s.id.split("/ProductOptionValue/")[1];l=a===D.morphValues(s.name)||a===e}else l=a===D.morphValues(s);if(l){n?e===t?(i="zeroed",d=`option${t+1}`):(i="oned",d=`option${t}`):d=`option${e+1}`;break}}}}else if(!n[e].is_iterated){let r=c.replace(RegExp("(?:\\[|\\]|\\(|\\)|\\+|\\$)","gi"),"\\$&{0,1}");if(r=r.replace(RegExp("\\s","gi"),"[\\s\\+\\-]{0,1}"),RegExp(`(?:${r})`,"gi").exec(t)){const t=D.isStorefront()?o.optionValues:o.values;for(let r=0;r<t.length;r+=1){const o=t[r];let i=!1;if(D.isStorefront()){const e=o.id.split("/ProductOptionValue/")[1];i=a===D.morphValues(o.name)||a===e}else i=a===D.morphValues(o);if(i){d=`option${e+1}`,n[e].is_iterated=!0;break}}if(d)break}}}return[d,i]},Pe=(e,t)=>{for(let a=0;a<t.length;a+=1)if(`option${a+1}`===e)return t[a].name;return""},Ie=e=>{let t=e.optionId,a=e.options;for(let e=0;e<a.length;e+=1)if(a[e].optionValues){const r=a[e].optionValues.find((e=>e.id===`gid://shopify/ProductOptionValue/${t}`));if(r)return r.name}return t},je=(e,t)=>void 0===e?t:e,Te=e=>{let t=e.number,a=e.trailingZeroes,r=e.precision,n=e.thousands,s=e.decimal;const l=o.get(i),c=je(r,2),u=je(n,","),p=je(s,".");let h=je(a,!!l.settings.collections.price_trailing_zeroes);if(h=a?`${s}00`:"",Number.isNaN(t)||null==t)return 0;const g=(t*(window.vskData.product_data_source===d?1:.01)).toFixed(c).split(".");return g[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,`$1${u}`)+(g[1]&&"00"!==g[1]?p+g[1]:h)},Le=(e,t)=>{const a=RegExp("{{[^{]*amount[^}]*}}","gi");let r=RegExp("{+([^}]*)}+","i").exec(e),n="";if(r&&(r=r[1].trim()),"amount"===r){const r=Te({number:t,trailingZeroes:!0,precision:2,thousands:",",decimal:"."});n=e.replace(a,r)}else if("amount_no_decimals"===r){const r=Te({number:t,trailingZeroes:!1,precision:0,thousands:",",decimal:"."});n=e.replace(a,r)}else if("amount_with_comma_separator"===r){const r=Te({number:t,trailingZeroes:!0,precision:2,thousands:".",decimal:","});n=e.replace(a,r)}else if("amount_no_decimals_with_comma_separator"===r){const r=Te({number:t,trailingZeroes:!1,precision:0,thousands:".",decimal:","});n=e.replace(a,r)}else if("amount_with_apostrophe_separator"===r){const r=Te({number:t,trailingZeroes:!0,precision:2,thousands:"'",decimal:"."});n=e.replace(a,r)}else if("amount_with_space_separator"===r){const r=Te({number:t,trailingZeroes:!0,precision:2,thousands:" ",decimal:","});n=e.replace(a,r)}else if("amount_no_decimals_with_space_separator"===r){const r=Te({number:t,trailingZeroes:!1,precision:0,thousands:" ",decimal:","});n=e.replace(a,r)}else{const r=Te({number:t,trailingZeroes:!0,precision:2,thousands:",",decimal:"."});n=e.replace(a,r)}return n};function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,s=[],l=!0,c=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=o.call(a)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const qe=(e,t)=>{const a=t.toLowerCase();for(let n=0;n<e.length;n+=1){var r;const o=e[n];if(o.name.toLowerCase()===a)return"optionValueName";if((null===(r=o.id.match(/\d+/))||void 0===r?void 0:r[0])===t)return"optionValueId"}return"optionValueName"},Ne=(e,t)=>{if(!e)return null;const a=e.optionValues[0].id.match(/\d+/)[0],r=e.optionValues.find((e=>e.name.toLowerCase()===t.toLowerCase()));return r?r.id.match(/\d+/)[0]:a},Re=(e,t)=>{if(!e)return null;const a=e.optionValues[0].name,r=e.optionValues.find((e=>e.name.toLowerCase()===t.toLowerCase()));return r?r.name:a},Me=e=>{let t=e.selectedOptionTag,a=e.selectedValue,r=e.selectedValueId,n=void 0===r?null:r,s=e.productDataStore;const l=s.keyMapping,c=s.themeSupportConfig,d=s.productCardElement,h=s.options,g=s.doNotSelectAnOption,m=s.allOptionsData,_=d.querySelectorAll(c.option_selector),v=o.get(i).configurations.products.custom_button_params,w=window.vskData.is_b2b;for(let e=0;e<_.length;e+=1){const r=_[e];let s=w&&r.getAttribute("sa-value")||r.value;const d=r.tagName===u,b=r.tagName===p;let y=r.name?r.name:r.id;const S=!d&&!b;if(S){y=null;for(let e=0;e<v.data.length;e+=1){const t=v.data[e],a=t.option_attribute,n=t.value_attribute;if(r.hasAttribute(a))y=r.getAttribute(a);else{const e=r.closest(`[${a}]`)||r.parentNode.querySelector(`[${a}]`);e&&(y=e.getAttribute(a))}if(y&&r.hasAttribute(n)){s=r.getAttribute(n);break}}}let $=l[y];const k=o.get(i);if(!$&&y){let e=s;if(d){const t=r.options[1];t&&(e=t.value)}let t=y;if(!S){const e=k.configurations.products.option_index_attributes;if(e&&e.length>0)for(let a=0;a<e.length;a+=1){const n=e[a],o=r.getAttribute(n);if(o){t=o;break}}}const a=c.index_strategy,n=Ee({keyName:t,compareValue:e,strategy:a,options:h});var f=Ce(n,2);c.index_strategy=f[1],$=Ce(n,1)[0],$===y&&(y=Pe($,h)),c.key_mapping[y]=$}else y||($=`option${e+1}`);if(d){let e=r.value!==a;if(g.status&&g.trusted_event_detected&&(e=!0),e&&$===t){r.value=a,D.dispatchEvent("change",r);const e=D.findCurrentVariantID();m.variantId!==e&&(m.variantId=e,D.dispatchCustomEvent(r,"product:variant:changed",m));break}}else{let e=S?!r.matches(v.selected_selector):!r.checked;if(g.status&&g.trusted_event_detected&&(e=!0),e&&$===t&&(s===a||s===n)){r.removeAttribute("disabled"),r.click(),S||r.checked||r.click();const e=D.findCurrentVariantID();m.variantId!==e&&(m.variantId=e,D.dispatchCustomEvent(r,"product:variant:changed",m));break}}}},Fe=e=>(e=>{let t=e.productDataStore;const a=t.keyMapping??{},r={},n=t.productCardElement,s=t.themeSupportConfig,l=t.options,c=n.querySelectorAll(s.option_selector),d=o.get(i).configurations.products.custom_button_params,h=window.vskData.is_b2b;for(let e=0;e<c.length;e+=1){const t=c[e];let n=h&&t.getAttribute("sa-value")||t.value;const m=t.tagName===u,_=t.tagName===p;let v=t.name?t.name:t.id;const w=!m&&!_;if(w){v=null;for(let e=0;e<d.data.length;e+=1){const a=d.data[e],r=a.option_attribute,o=a.value_attribute;if(t.hasAttribute(r))v=t.getAttribute(r);else{const e=t.closest(`[${r}]`)||t.parentNode.querySelector(`[${r}]`);e&&(v=e.getAttribute(r))}if(v&&t.hasAttribute(o)){n=t.getAttribute(o);break}}}let f=a[v];const b=o.get(i);if(!f&&v){let e=n;if(m){const a=t.options[1];a&&(e=a.value)}let r=v;if(!w){const e=b.configurations.products.option_index_attributes;if(e&&e.length>0)for(let a=0;a<e.length;a+=1){const n=e[a],o=t.getAttribute(n);if(o){r=o;break}}}const o=s.index_strategy,i=Ee({keyName:r,compareValue:e,strategy:o,options:l});var g=Ce(i,2);s.index_strategy=g[1],f=Ce(i,1)[0],f===v&&(v=Pe(f,l)),a[v]=f}else v||(f=`option${e+1}`);(t.checked||t.tagName===u||w&&t.matches(d.selected_selector)||void 0===r[f])&&(r[f]=n)}return t.keyMapping=a,{currentOptions:D.sortObjectByKeys(r)}})({productDataStore:e.productDataStore}),Ge=(e,t)=>({min_price:e[t].min_price,max_price:e[t].max_price,is_equal:e[t].min_price===e[t].max_price}),He=(e,t,a)=>({min_price:e[t][a].min_price,max_price:e[t][a].max_price,is_equal:e[t][a].min_price===e[t][a].max_price}),ze=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=!1;return n=null==a?void 0!==e[t]:null==r?void 0!==e[t][a]:void 0!==e[t][a]&&void 0!==e[t][a][r],n},Be=e=>{let t=e.makeASelectionText;const a=e.productDataStore.productCardElement,r=o.get(i).configurations.products,n=r.add_to_cart_disabled_classes,s=a.querySelectorAll(r.add_to_cart_selector);Object.entries(s).forEach((e=>{let a=Ce(e,2),o=a[0],i=a[1];if("length"!==o)if(i.setAttribute("disabled","disabled"),""!==n.trim()&&(i.className=n),i.tagName===p)i.hasAttribute("original-text")||i.setAttribute("original-text",i.value),i.value=t;else if(i.tagName===h){let e=i;i.children.length>0&&(e=i.querySelector(r.add_to_cart_text_selector)),e&&(i.hasAttribute("original-text")||i.setAttribute("original-text",e.innerHTML),e.innerHTML=t)}}))},We=(e,t)=>{const a=e.closest(".swatch-drop-down-label");if(a){const r=a.querySelector(".swatch-label-inside");if(r){const a=parseFloat(t.match(/[\d\.]+/g)),n=r.getBoundingClientRect().width;e.style.paddingLeft=`${a+n}px`}}},Ue=(e,t,a,r)=>{"mode_1"===r.arrowMode?setTimeout((()=>{e.querySelector(t).classList.remove("star-show")}),500):e.querySelector(t).classList.add("star-disabled")},Ke=(e,t,a,r,n,o,i)=>{let s=t+e;const l=-i.totalScrollWidth+i.sliderWidth;return s>0?(s=0,Ue(r,n,"left",i)):s<l&&(s=l,Ue(r,o,"right",i)),s<0&&(r.querySelector(n).classList.remove("star-disabled"),"mode_0"!==i.arrowMode&&r.querySelector(n).classList.add("star-show")),s>l&&(r.querySelector(o).classList.remove("star-disabled"),"mode_0"!==i.arrowMode&&r.querySelector(o).classList.add("star-show")),a.style.transform=`translateX(${s}px)`,s},Ze=e=>{let t=e.visibleSwatches>0?e.visibleSwatches:1;return"mode_1"===e.arrowMode&&(t=e.visibleSwatches>2?e.visibleSwatches-2:1),t};function Xe(e,t,a,r){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const o=`${t} [navigation="left"]`,i=`${t} [navigation="right"]`,s=JSON.parse(a.dataset.sliderData);(window.matchMedia?window.matchMedia("screen and (max-width: 768px)"):window.screen.width<=768).matches||"mode_0"!==s.arrowMode||(s.arrowMode="mode_1");const l=a.querySelector(`${t}.swatch-navigable ul`);a.sliderInitialized||(((e,t)=>{const a=t.querySelector(`${e}.swatch-navigable ul`);let r,n,o,i,s=0,l=!1,c=!1,d=0;a.addEventListener("touchstart",(e=>{(e=>{r=e,n=e,o=Date.now(),l=!0,a.style.transition="none";const t=a.style.transform;if(t){const e=t.match(/translateX\(([-\d.]+)px\)/);e&&(s=parseFloat(e[1]))}})(e.touches[0].clientX)})),a.addEventListener("touchmove",(e=>{var t;e.preventDefault(),t=e.touches[0].clientX,l&&(c=!0,i=Date.now(),i-o>0&&(d=(t-n)/(i-o)),n=t,o=i,a.style.transform=`translateX(${s+(t-r)}px)`)}),{passive:!1}),a.addEventListener("touchend",(()=>{c&&(l=!1,c=!1,Xe(null,e,t,!0,1e3*(d||.01)))}))})(t,a),a.sliderInitialized=!0),l.style.transition=0!==n?"0.6s cubic-bezier(0.215, 0.610, 0.355, 1.000)":r?"0.3s ease-out":"none";const c=l.style.transform.match(/-?[\d\.]+/g)||[0];let d=parseFloat(c[0])||0;if(0!==n)return Ke(.25*n,d,l,a,o,i,s);if(0===e)a.querySelector(i).classList.remove("star-disabled"),"mode_0"!==s.arrowMode&&a.querySelector(i).classList.add("star-show"),"swatch-pill"===s.swatchType||"button"===s.assocViewType?(d+=.8*s.sliderWidth,d>=-s.firstSwatchWidth/2&&(d=0,Ue(a,o,"left",s))):(d+=Ze(s)*(s.swatchSliderItemWidth+s.marginRight),"half"===s.lastSwatchPreview&&(d+=s.swatchSliderItemWidth-s.lastSwatchWidth),d>=-s.swatchSliderItemWidth/3&&(d=0,Ue(a,o,"left",s)));else if(1===e)if(a.querySelector(o).classList.remove("star-disabled"),"mode_0"!==s.arrowMode&&a.querySelector(o).classList.add("star-show"),"swatch-pill"===s.swatchType||"button"===s.assocViewType){const e=d;d-=.8*s.sliderWidth,s.totalScrollWidth<=-(d-s.sliderWidth)&&(d=e+(-s.totalScrollWidth-(e-s.sliderWidth))-1,Ue(a,i,"right",s))}else{const e=d;d-=Ze(s)*(s.swatchSliderItemWidth+s.marginRight),"half"===s.lastSwatchPreview&&(d-=s.swatchSliderItemWidth-s.lastSwatchWidth),Number(s.totalScrollWidth.toFixed(3))<=Number((-(d-s.sliderWidth)).toFixed(3))&&(d=Number((e+(-s.totalScrollWidth-(e-s.sliderWidth))).toFixed(3)),Ue(a,i,"right",s))}return l.style.transform=`translateX(${d}px)`,d}const Je=function(e,t){Xe(e,'[swatch-slider="true"]',t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])},Ye=(e,t,a)=>{const r=window.matchMedia?window.matchMedia("screen and (max-width: 768px)"):window.screen.width<=768,n=e.closest(".swatch-navigable-wrapper"),o="li.swatch-view-item",i=e.querySelector("ul.swatch-view"),s=i.querySelectorAll(o).length,l=e.querySelector('[navigation="left"]'),c=e.querySelector('[navigation="right"]');let d=e.getBoundingClientRect().width;const u=n?n.getBoundingClientRect().width:null;let p,h,g,m,_,v,w,f,b,y,S,$=t.arrow_mode;r.matches||"mode_0"!==$||($="mode_1");const k=t.adjust_margin_right,D=parseFloat(t.margin_right.match(/[\d\.]+/g));let x=D;if("swatch-pill"===t.swatch_type||"button"===a)v=0,i.querySelectorAll(o).forEach(((e,t)=>{e.style.width=`${e.getBoundingClientRect().width}px`,v=v+e.getBoundingClientRect().width+x,e.firstChild instanceof Element&&null!==e.querySelector(".swatch-selected")&&(b=(v-e.getBoundingClientRect().width)/(.8*d),y=t,"mode_4"===$&&(n.querySelector(".swatch-navigable").setAttribute("data-current-scroll",t),e.scrollIntoView({behavior:"auto",block:"nearest",inline:"start"}))),0===t&&(w=e.getBoundingClientRect().width),t===s-1&&(f=e.getBoundingClientRect().width,v-=x)}));else{p=parseFloat(t.width.match(/[\d\.]+/g)),h=parseFloat(t.border_width.match(/[\d\.]+/g));const e=t.border_space||t.margin_swatch_horizontal;g=parseFloat(e.match(/[\d\.]+/g)),m=p,h>0&&(m+=2*h+2*g);const a=t.last_swatch_preview;let r=(d+x)/(m+x);"mode_1"===$&&(r=(u+x)/(m+x));let n=0;if(r>=s&&!k)n=parseInt(r,10);else{if("full"===a){if(r=(d+x)/(m+x),n=parseInt(r,10),S=d-n*m,x=Math.max(S/(n>1?n-1:1),D),x>S/(n>1?n-1:1)){const e=d-(n-1)*x;n=Math.floor(e/m)}}else if("half"===a){const e=(d-(Math.floor(r)*m+Math.floor(r)*x))/m*100;let t;if((e<20||e>80)&&r>1)if(e<20)t=80,n=Math.floor(r)-1,x=parseFloat(((d-(n*m+t/100*m))/n).toFixed(3));else{t=80;const e=t/100*m,a=Math.floor(r)+e/m;n=Math.floor(a),x=parseFloat(((d-(n*m+e))/n).toFixed(3))}else n=Math.floor(r)}const e=i.querySelector(`${o}:last-child`);e&&(e.style.width=`${m}px`)}_=n,v=(m+x)*(s-1)+m,i.querySelectorAll(o).forEach(((e,t)=>{e.firstChild instanceof Element&&null!==e.querySelector(".swatch-selected")&&(b=_>0?(m+x)*t/(_*(m+x)):0,"half"===a?"mode_1"===$&&(b=_>2?(m+x)*t/((_-2)*(m+x)):t-_>=0?t-_+1:0):b=_>2?(m+x)*t/((_-2)*(m+x)):0,y=t),t!==s-1&&(e.style.width=`${m}px`,e.style.marginRight=`${x}px`)}))}i.parentElement.setAttribute("swatch-slider","true");const O={swatchSliderItemWidth:m||0,totalScrollWidth:v,sliderWidth:d,visibleSwatches:_||0,marginRight:x,swatchType:t.swatch_type,firstSwatchWidth:w,lastSwatchWidth:f,assocViewType:a,arrowMode:$};i.style.transform="translateX(0px)",i.style.display="flex";const A=i.closest("[option-name]");if("mode_1"===$&&(d=u),_>=s||d>=v){if(l.classList.remove("star-show"),c.classList.remove("star-show"),"mode_2"===$||"mode_3"===$)e.classList.add("star-remove-margin"),O.sliderWidth=e.getBoundingClientRect().width;else if("mode_4"===$)return e.closest(".swatch-navigable").style.margin="0px",void(e.closest(".swatch-navigable").style.width="100%");i.parentElement.setAttribute("data-slider-data",JSON.stringify(O))}else{if(c.classList.add("star-show"),c.classList.remove("star-disabled"),i.style.setProperty("justify-content","unset"),i.style.setProperty("width",`${v}px`,"important"),"mode_2"===$||"mode_3"===$)l.classList.add("star-show","star-disabled"),e.classList.remove("star-remove-margin"),O.sliderWidth=e.getBoundingClientRect().width;else if("mode_0"===$)l.classList.remove("star-show"),c.classList.remove("star-show");else if("mode_4"===$){e.style.margin="auto",c.classList.add("star-show"),l.classList.add("star-show"),c.classList.remove("star-disabled"),l.classList.remove("star-disabled");const t=l.getBoundingClientRect().width+c.getBoundingClientRect().width;return void(e.closest(".swatch-navigable").style.width=`calc(100% - ${t}px)`)}b=parseInt(b,10),setTimeout((()=>{for(let t=0;t<b;t+=1)Je(1,e.closest(".swatch-navigable"),!1);if(r.matches){let t,a=0;A&&A.id.includes("swatch-group")&&(i.querySelectorAll(o)[y].scrollIntoView(!1),document.body.scrollIntoView()),i.addEventListener("touchstart",(e=>{t=e.touches[0].clientX,a=1}),{capture:!0}),i.addEventListener("touchmove",(r=>{1===a&&(a+=1,t>=r.touches[0].clientX?Je(1,e.closest(".swatch-navigable")):Je(0,e.closest(".swatch-navigable")))}),{capture:!0}),i.addEventListener("touchend",(()=>{a=0}),{capture:!0})}}),200),i.parentElement.setAttribute("data-slider-data",JSON.stringify(O))}},Qe=e=>{let t=250;e.style.minWidth&&(t=parseInt(e.style.minWidth.split("px")[0],10),t||(t=250)),e.offsetWidth>t&&(t=e.offsetWidth),e.style.minWidth=`${t}px`};var et=class{constructor(e){this.themeSupportConfig=null,this.swatchRootElement=null,this.options=[],this.variants=null,this.priceInfoTree=null,this.tree=null,this.defaultFeaturedImage=null,this.productCardElement=null,this.doNotSelectAnOption=null,this.allOptionsData={variantId:null},this.keyMapping=null,this.isProductGridInstance="collections"===e,this.instance=e,this.currentVariantID=null,this.optionPresetMap=null,this.selectedSwatches={},this.infoTree={untranslatedHandle:null,id:null,handle:null,vendor:null,publishedAt:null},this.pgInfo={product_switched:!1,selected_product_group:null,featured_image_src:null,secondary_image_src:null,image_replaced_by_hover:!1,first_or_available_variant:null,preselect_variant:null},this.hasSingleVariant=!1,this.hasDefaultVariant=!1,this.appBlockSwatchRootElement=null,this.swatchRootEventAdded=!1,this.appBlockSwatchRootEventAdded=!1,this.beautifyVariantPicker=!0}};function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const at=e=>"click"===e,rt=e=>{let t,a=e.event;const r="keyup"===a.type&&13!==a.keyCode;if(!a||r)return null;var n,o;for(t=a.target,"LI"===t.tagName&&t.hasAttribute("orig-value")&&t.children&&(t=(n=t.children,o=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,s=[],l=!0,c=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=o.call(a)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(n,o)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?tt(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]);t.hasAttribute("swatch-inside")||"FONT"===t.tagName||"SVG"===t.tagName||"I"===t.tagName;)t=t.parentNode;return t.classList.contains("swatch-image-wrapper")&&(t=t.querySelector("[swatch-option]")),at(a.type)&&t.hasAttribute("data-navigation")?((e=>{const t=e.closest(".swatch-navigable"),a=e.getAttribute("data-navigation");if(t&&t.hasAttribute("data-current-scroll")){const e=Number(t.getAttribute("data-current-scroll")),r=t.querySelectorAll(".swatch-view-item");let n=e;if("right"===a)for(let a=e;a<r.length;a+=1){const e=r[a].getBoundingClientRect(),o=t.getBoundingClientRect();if(e.left-3>o.left){r[a].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),n=a;break}}else"left"===a&&(n=Math.max(0,e-1));const o=n===r.length-1?"end":"start";return r[n].scrollIntoView({behavior:"smooth",block:"nearest",inline:o}),void t.setAttribute("data-current-scroll",n)}Je("left"===a?0:1,t)})(t),null):t.hasAttribute("swatch-option")?t.tagName===u&&a.type!==m?null:t:null},nt=e=>{let t=e.isProductGridInstance;const a=o.get(i);return t?a.settings.collections.label_split_symbol:a.settings.products.label_split_symbol};const ot=e=>{let t=e.element,a=e.value,r=e.similarElementFound,n=e.elements,o=!1;const i=t.closest(".swatch-navigable, variant-swatch-king"),s=t.closest(".swatch-view-stack, variant-swatch-king");if(i&&"VARIANT-SWATCH-KING"!==i.tagName){const e=t.closest(".swatch-navigable");Ye(e,a.view_type_preset.params,a.view_type_preset.assoc_view_type)}else if(s&&"VARIANT-SWATCH-KING"!==s.tagName){const e=t.closest(".swatch-view-stack");xe(e,a.view_type_preset.params,a.view_type_preset.assoc_view_type)}return r||(ce(n[0].tagName)?D.dispatchEvent("change",n[0]):D.dispatchEvent("virtual_click",n[0]),o=!0),o};var it=e=>{let t=e.element,a=e.value,r=e.defaultValue,n=e.optionValueType,o=null,i=null;if(setTimeout((()=>{t.classList.add("swatch-allow-animation")}),128),ce(t.tagName))We(t,a.view_type_preset.params.padding_left),o=t.value,Array.from(t.querySelectorAll("option")).find((e=>e.getAttribute("value")===r))&&(o=r,t.value=r);else if("true"===t.getAttribute("custom-select")){We(t,a.view_type_preset.params.padding_left),o=t.getAttribute("aria-label");const e=t.closest(".swatch-drop-down-inner");if(e){const t=Array.from(e.querySelectorAll(".swatch-drop-down-list li"));if(t.length>0){let e=!1;t.find((e=>e.getAttribute("value")===r||e.getAttribute("option-value-id")===r))&&(o=r,i=r,e=!0),e||(r=t[0].getAttribute("orig-value"),"optionValueName"===n&&(r=t[0].getAttribute("option-value-id")))}else D.printLog({message:"This is custom select, option values are not found!",error:!1})}}else o=t.getAttribute("orig-value"),i=t.getAttribute("option-value-id");const s=o===r||i===r;return s&&(ce(t.tagName)?D.dispatchEvent("change",t):D.dispatchEvent("virtual_click",t)),s};function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const lt=(e,t,a,r,n)=>e===t?a:r[t]||n[t]?n[t]:null,ct=e=>{var t;let a=e.key,r=e.value,n=e.doNotSelectAnOption,o=e.currentOptions,i=e.swatchRootElement,s=e.productDataStore;const l=((null===(t=r.view_type_preset)||void 0===t?void 0:t.params)||{}).priceBadge;l&&l.price_enabled&&i.querySelectorAll(`[option-target="${a}"] .swatch-view-item .swatch-selector`).forEach((e=>{const t=e.dataset.value,r=(e=>{var t;let a=e.optionOne,r=e.optionTwo,n=void 0===r?null:r,o=e.optionThree,i=void 0===o?null:o,s=e.productDataStore;const l=s.options,c=s.priceInfoTree,d=Ie({optionId:a,options:l}),u=Ie({optionId:n,options:l}),p=Ie({optionId:i,options:l}),h=null===(t=window.vskData.money_format)||void 0===t?void 0:t.trim();let g=null;if(null==u){const e=Ge(c,d);g=e.is_equal?Le(h,e.min_price):`${Le(h,e.min_price)}+`}else if(null==p)if(ze(c,d,u)){const e=He(c,d,u);g=e.is_equal?Le(h,e.min_price):`${Le(h,e.min_price)}+`}else{const e=Ge(c,d);g=e.is_equal?Le(h,e.min_price):`${Le(h,e.min_price)}+`}else if(ze(c,d,u,p)){const e=((e,t,a,r)=>({min_price:e[t][a][r].min_price,max_price:e[t][a][r].max_price,is_equal:e[t][a][r].min_price===e[t][a][r].max_price}))(c,d,u,p);g=e.is_equal?Le(h,e.min_price):`${Le(h,e.min_price)}+`}else if(ze(c,d,u)){const e=He(c,d,u);g=e.is_equal?Le(h,e.min_price):`${Le(h,e.min_price)}+`}else{const e=Ge(c,d);g=e.is_equal?Le(h,e.min_price):`${Le(h,e.min_price)}+`}return g})({optionOne:lt(a,"option1",t,n,o),optionTwo:lt(a,"option2",t,n,o),optionThree:lt(a,"option3",t,n,o),productDataStore:s}),i=e.querySelector(".swatch-price-adjacent span");i&&(i.innerHTML=r)}))},dt=e=>{let t=e.key,a=e.value,r=e.currentOptions,n=e.doNotSelectAnOption,o=e.productDataStore;const i=r[t];for(let e=0;e<a.data.length;e+=1){if(i===a.data[e].value||i===a.data[e].option_value_id){Me({selectedOptionTag:t,selectedValue:a.data[e].value,selectedValueId:a.data[e].option_value_id,productDataStore:o});break}if(e===a.data.length-1){Me({selectedOptionTag:t,selectedValue:a.data[0].value,selectedValueId:a.data[0].option_value_id,productDataStore:o});break}}if(n.control_add_to_cart){let e=P(n.make_a_selection_text);e=e.replace(/{{\s*option_name\s*}}/gm,n.option_name),Be({makeASelectionText:e,productDataStore:o})}};var ut=e=>{let t=e.event,a=e.productDataStore;const r=a.swatchRootElement,n=a.doNotSelectAnOption,s=a.productCardElement,l=a.options,c=a.allOptionsData,d=a.hasDefaultVariant,g=a.beautifyVariantPicker,_=(e=>{let t=e.event,a=e.productDataStore;if(!t)return{skipGeneration:!1};const r=a.doNotSelectAnOption,n=a.options,s=a.allOptionsData,l=a.hasDefaultVariant,c=a.hasSingleVariant,d=D.findCurrentVariantID(a.productCardElement);a.currentVariantID=d;let g=null,_=null,v=null,w=!1;const f=rt({event:t});if(!f)return{skipGeneration:!0,onlyTrigger:w};const b=f.hasAttribute("swatch-url"),y=at(t.type)&&f.tagName!==u,S=t.type===m&&f.tagName===u,$=o.get(i),k=D.isEventTrusted({event:t,_default:!0});if(b&&k&&(y||S)){if(f.hasAttribute("current-product"))return{skipGeneration:!0,onlyTrigger:w};let e="";const t=c||l;$.settings.products.persist_group_variant&&!t&&(e=(e=>{let t=e.productDataStore;const a=t.options,r=t.variants;let n="";const o=Fe({productDataStore:t}).currentOptions,i=Object.keys(o),s=r[t.currentVariantID];let l="optionValueName";D.isStorefront()&&o.option1&&a.length>0&&(l=qe(a[0].optionValues,o.option1));for(let e=0;e<i.length;e+=1){const t=i[e];let a=o[t];"optionValueId"===l&&s.selectedOptions&&s.selectedOptions.length>0&&(a=s.selectedOptions[e].value),n+=`&${t}=${encodeURIComponent(a)}`}return""!==n&&(n=n.replace(RegExp("^&","gi"),"?")),n})({productDataStore:a}));let r=f.getAttribute("swatch-url");f.tagName===u&&(r=f.value);const n=r+e;return window.vskData.app_setting_config.history_free_group_navigation?window.location.replace(n):window.location.assign?window.location.assign(n):window.location.href=n,{skipGeneration:!0,onlyTrigger:w}}if("select"===f.getAttribute("type"))return(e=>{let t=e.currentEventTarget;const a=t,r=t.parentNode.querySelector("ul.swatch-drop-down-list"),n="true"===a.getAttribute("aria-expanded");a.setAttribute("aria-expanded",!n),r.classList.toggle("swatch-hide")})({currentEventTarget:f}),{skipGeneration:!0,onlyTrigger:w};if("select_value"===f.getAttribute("type")&&(e=>{let t=e.currentEventTarget;const a=t.closest("div.swatch-drop-down-inner").querySelector('div[type="select"]');a.style.minWidth&&"0px"!==a.style.minWidth||Qe(a),a.innerHTML=t.innerHTML,a.setAttribute("aria-label",t.innerText),a.setAttribute("aria-expanded",!1),t.parentNode.classList.add("swatch-hide")})({currentEventTarget:f}),r.status){const e="virtual_click"===t.type||"change"===t.type&&!k,l=f.getAttribute("swatch-option"),c=n[parseInt(l[6],10)-1],d=(e=>{let t=e.name;const a=e.productDataStore.optionPresetMap;if(void 0!==a[t])return a[t].trigger_action;const r=window.vskData.product_options;for(let e=0;e<r.length;e+=1)if(a[r[e].name]=r[e],r[e].name===t)return r[e].trigger_action;return"auto"})({name:void 0!==c.untranslated_name?c.untranslated_name:c.name,productDataStore:a}),u=c.values;if(r.option_name=c.name,r.trusted_event_detected=!1,"manual"===d&&u.length>1){if(D.dispatchCustomEvent(a.productCardElement,"manual:selection:hold",s),window.starapps_stock_data||(window.starapps_stock_data={}),window.starapps_stock_data.show_stock_alert=!1,!r[l]&&e){let e=P(r.text);e=e.replace(/{{\s*option_name\s*}}/gm,c.name);const t=f.closest("div.swatch-single").querySelector("label.swatch-label");if(ce(f.tagName)){const t=document.createElement("option");t.value="",t.innerHTML=e,f.insertBefore(t,f.options[0]),f.selectedIndex=0}else if("select_value"===f.getAttribute("type")){let t=f.closest(".swatch-drop-down-inner");t&&(t=t.querySelector('[type="select"]'),t.querySelector("span").innerHTML=e,Qe(t))}else t.hasAttribute("original-text")||t.setAttribute("original-text",t.innerHTML),t.innerHTML=`<input type="checkbox" name="manual" value="true" checked="checked">${e}`;if(!r.allow_virtual_trigger){if(r.control_add_to_cart){let e=P(r.make_a_selection_text);e=e.replace(/{{\s*option_name\s*}}/gm,r.option_name),Be({makeASelectionText:e,productDataStore:a})}return{skipGeneration:!0,onlyTrigger:w}}w=!0}else if(!e){r.trusted_event_detected=!0,(e=>{let t=e.productDataStore;const a=o.get(i).configurations.products;t.productCardElement.querySelectorAll(a.add_to_cart_selector).forEach((e=>{if(e.removeAttribute("disabled"),a.add_to_cart_enabled_classes&&""!==a.add_to_cart_enabled_classes.trim()&&(e.className=a.add_to_cart_enabled_classes),e.tagName===p&&e.hasAttribute("original-text")){const t=e.getAttribute("original-text");e.removeAttribute("original-text"),e.value=t}else if(e.tagName===h){let t=e;if(e.children.length>0&&(t=e.querySelector(a.add_to_cart_text_selector)),t&&e.hasAttribute("original-text")){const a=e.getAttribute("original-text");e.removeAttribute("original-text"),t.innerHTML=a}}}))})({productDataStore:a});const e=f.closest("div.swatch-single").querySelector("label.swatch-label"),t=e.getAttribute("original-text");t&&(e.removeAttribute("original-text"),e.innerHTML=t),ce(f.tagName)&&!r[l]&&f.remove(0),r[l]||(r.count+=1,r[l]=!0)}}else r[l]||(r.count+=1,r[l]=!0)}if(ce(f.tagName)&&f.options&&f.options.length>1&&at(t.type))return{skipGeneration:!0,onlyTrigger:w};if(f.hasAttribute("swatch-option")){v=f.getAttribute("swatch-option"),g=v;let e=null;if(ce(f.tagName))e=f.value;else{e=f.getAttribute("orig-value"),_=f.getAttribute("option-value-id");const t=f.closest("[option-target]").querySelector("span.swatch-variant-name"),r=f.getAttribute("data-value");t&&"null"!==e&&"none"!==r&&(t.innerHTML=` <span class="swatch-split-symbol">${nt({isProductGridInstance:a.isProductGridInstance})}</span> ${r}`)}if(w||Oe({optionTag:v,element:f,selectedValue:e,productDataStore:a}),Me({selectedOptionTag:v,selectedValue:e,selectedValueId:_,productDataStore:a}),w&&r.control_add_to_cart){let e=P(r.make_a_selection_text);e=e.replace(/{{\s*option_name\s*}}/gm,r.option_name),Be({makeASelectionText:e,productDataStore:a})}}return{skipGeneration:!1,optionToSkip:g,onlyTrigger:w}})({event:t,productDataStore:a}),v=_.skipGeneration,w=_.optionToSkip,f=_.onlyTrigger;if(d)return;const b=w;if(v)return;(e=>{let t=e.doNotSelectAnOption,a=e.options,r=e.allOptionsData,n=e.productCardElement;t.status&&t.count>=a.length&&(t.status=!1,window.starapps_stock_data||(window.starapps_stock_data={}),window.starapps_stock_data.show_stock_alert=!0,D.dispatchCustomEvent(n,"selection:release",r))})({doNotSelectAnOption:n,allOptionsData:c,productCardElement:s,options:l});const y=Fe({productDataStore:a}).currentOptions;if(D.printLog({message:y,error:!1}),void 0===y.option1){D.printLog({message:"currentOption was not properly formed!",error:!1});for(let e=0;e<l.length;e+=1){const t=`option${e+1}`,a=s.querySelector(`[swatch-option="${t}"].swatch-selected`);y[t]="",a&&(ce(a.tagName)?y[t]=a.value:y[t]=a.getAttribute("orig-value"))}}const S=(e=>{let t=e.event,a=e.productDataStore,r=e.currentOptions;const n=a.options,s=o.get(i);let l="optionValueName";if(!t&&s.settings.products.persist_group_variant&&window.decodeURIComponent&&window.location.href.includes("option1=")&&!window.location.href.includes("variant=")){const e=/option\d=[^\&]*/gm,t=window.location.href;let o=e.exec(t),i=0;for(;null!==o;){o.index===e.lastIndex&&(e.lastIndex+=1);const s=o[0].split("="),c=s[0];let d,u=decodeURIComponent(s[1]);0===i&&D.isStorefront()&&(l=qe(n[0].optionValues,u)),"optionValueName"===l&&D.isStorefront()?(u=Re(n[i],u),d=Ne(n[i],u),r[c]=u):"optionValueId"===l&&(d=Ne(n[i],u),r[c]=d),r[c]=d||u,Me({selectedOptionTag:c,selectedValue:u,selectedValueId:d,productDataStore:a}),i+=1,o=e.exec(t)}}return l})({event:t,currentOptions:y,productDataStore:a});if(!g)return;let $;window.vskData.money_format&&($=window.vskData.money_format.trim());const k=(e=>{let t=e.moneyFormat,a=e.options,r=e.productDataStore.tree,n=null;const o={},i=Object.keys(a);for(let e=0;e<i.length;e+=1){const c=i[e];let d=!1;if(void 0!==r[c]){r=r[c];for(let e=0;e<r.length;e+=1){void 0===o[c]&&(o[c]={available_count:0,data:[],name:r[e].name,untranslated_name:r[e].untranslated_name,view_type_preset:r[e].view_type_preset});const i={value:r[e].value,option_value_id:r[e].option_value_id,original_value:r[e].original_value,untranslated_value:r[e].untranslated_value};void 0!==r[e].featured_image&&(i.featured_image=r[e].featured_image),void 0!==r[e].available&&(i.available=r[e].available,i.available&&(o[c].available_count+=1)),void 0!==r[e].min_price&&void 0!==r[e].max_price&&(r[e].min_price===r[e].max_price?i.price=Le(t,r[e].min_price):i.price=`${Le(t,r[e].min_price)}+`),i.min_compare_at_price=r[e].compare_at_price?parseFloat(r[e].compare_at_price.amount,10):0,i.min_price=parseFloat(r[e].min_price,10),o[c].data.push(i),r[e].value===a[c]||r[e].option_value_id===a[c]?(n=r[e],d=!0):d||e!==r.length-1||(n=(s=r,l=1,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,s=[],l=!0,c=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=o.call(a)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(s,l)||function(e,t){if(e){if("string"==typeof e)return Ae(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ae(e,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0])}r=n}}var s,l;return o})({productDataStore:a,options:y,moneyFormat:$});D.printLog({message:k,error:!1}),(e=>{let t=e.optionNode,a=e.optionToSkip,r=e.onlyTrigger,n=e.currentOptions,o=e.doNotSelectAnOption,i=e.swatchRootElement,s=e.productDataStore,l=e.optionValueType;const c=Object.entries(t);let d=a;for(let e=0;e<c.length;e+=1){const t=(p=2,function(e){if(Array.isArray(e))return e}(u=c[e])||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,s=[],l=!0,c=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=o.call(a)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(u,p)||function(e,t){if(e){if("string"==typeof e)return st(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?st(e,t):void 0}}(u,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=t[0],h=t[1];if(h.key=a,null!=d){d===a?d=null:ct({key:a,value:h,doNotSelectAnOption:o,currentOptions:n,swatchRootElement:i,productDataStore:s});continue}if(r){dt({key:a,value:h,currentOptions:n,doNotSelectAnOption:o,productDataStore:s});continue}const g=De({preset:h.view_type_preset,optionTag:a,option:h,productDataStore:s}),m=re({optionTag:a,html:g,swatchRootElement:i,productDataStore:s});1===h.data.length&&"null"===h.data[0].value&&m.length>0&&m[0].closest&&(m[0].closest("div.swatch-single").style.display="none"),D.printLog({message:`Generated UI for - ${a}`,error:!1});const _=n[a];let v=!1,w=!1;for(let e=0;e<m.length;e+=1){const t=m[e];it({element:t,elementIndex:e,elements:m,value:h,defaultValue:_,optionValueType:l})&&(v=!0),e===m.length-1&&(d="None",w=ot({element:t,value:h,similarElementFound:v,elements:m}))}if(w)break}var u,p})({optionNode:k,optionToSkip:b,onlyTrigger:f,currentOptions:y,doNotSelectAnOption:n,swatchRootElement:r,productDataStore:a,optionValueType:S})},pt=e=>{let t=e.productDataStore;const a=t.swatchRootElement,r=t.appBlockSwatchRootElement,n=[];return["click","change","virtual_click","keyup"].forEach((e=>{const o=e=>{ut({event:e,productDataStore:t})};n.push({eventName:e,handler:o}),a&&!t.swatchRootEventAdded&&a.addEventListener(e,o),r&&!t.appBlockSwatchRootEventAdded&&r.addEventListener(e,o)})),a&&(t.swatchRootEventAdded=!0),r&&(t.appBlockSwatchRootEventAdded=!0),()=>{a&&n.forEach((e=>{let t=e.eventName,r=e.handler;a.removeEventListener(t,r)})),r&&n.forEach((e=>{let t=e.eventName,a=e.handler;r.removeEventListener(t,a)}))}},ht=e=>{let t=e.untranslatedProductIds;return`query productDetails @inContext(country: ${window.Shopify.country.toUpperCase()}, language: ${D.convertLanguageCode(window.Shopify.locale)}) {\n    nodes(ids: [${t.map((e=>`"${e}"`)).join(", ")}]) {\n        ... on Product {\n            id\n            handle\n            title\n            vendor\n            availableForSale\n            onlineStoreUrl\n            tags\n            publishedAt\n            priceRange{\n                maxVariantPrice{\n                    amount\n                }\n                minVariantPrice{\n                    amount\n                }\n            }\n            featuredImage{\n                id\n                url\n            }\n            options{\n                id\n                name\n                values\n                optionValues{\n                    id\n                    name\n                }\n            }\n            images(first: 250){\n                nodes{\n                    id\n                    url\n                    altText\n                }\n            }\n            compareAtPriceRange {\n                maxVariantPrice {\n                    amount\n                }\n                minVariantPrice {\n                    amount\n                }\n            }\n        }\n    }\n}`};var gt={getGroupsAndGroupChart:async e=>{let t=e.handle;const a=await(async e=>{let t=e.handle;try{const e=window.Shopify.shop.split(".myshopify.com")[0],a=window.vskData.product_data_source,r=window.vskData.lambda_cloudfront_url,n=await fetch(`${r}/store/${e}/${a}/groups/${t}.json`);if(!n.ok)throw new Error(`Failed to fetch product groups: ${n.status} ${n.statusText}`);return n.json()}catch(e){return console.error("Error fetching product groups from Lambda:",e),[]}})({handle:t}),r={};for(let e=0;e<a.length;e+=1)a[e].option_values.some((e=>e.handle===t))&&(r[t]?r[t].some((t=>t===e))||r[t].push(e):r[t]=[e]);return{productGroupsChart:r,productGroups:a}}};function mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(a),!0).forEach((function(t){vt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function vt(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var wt=e=>{let t=e.groupData,a=e.productDataStore,r=null,n=null,o=null;const i=window.matchMedia?window.matchMedia(y):window.screen.width<=768;if(a.isProductGridInstance){let e=t.collections_preset_id;!t.same_collections_preset_for_mobile&&i.matches&&(e=t.mobile_collections_preset_id),r=null==e||"0"===e.toString()?W():window.vskData.presets[e]}else r=window.vskData.presets[t.products_preset_id],!t.same_products_preset_for_mobile&&i.matches&&(r=window.vskData.presets[t.mobile_products_preset_id]);return n=t.products_swatch,o=t.collections_swatch,i.matches&&(t.same_products_preset_for_mobile||(n=t.mobile_products_swatch),t.same_collections_preset_for_mobile||(o=t.mobile_collections_swatch)),void 0!==r?_t({products_swatch:n,collections_swatch:o},r):_t({products_swatch:n||t.products_swatch,collections_swatch:o||t.collections_swatch},B({productDataStore:a}))};function ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function bt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(a),!0).forEach((function(t){yt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ft(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function yt(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var St=e=>{var t,a,r,n,o;let i=e.optionValue,s=e.translatedHandles,l=e.key;const c=`gid://shopify/Product/${i.id}`,d=window.vskData.app_setting_config.default_swatch_image;if(null!=s&&s[c]){var u;const e=s[c],i=(null===(u=e.images)||void 0===u||null===(u=u.nodes)||void 0===u?void 0:u.length)||0;switch(l){case"title":default:return e.title;case"handle":return e.handle;case"minPrice":return parseFloat((null===(t=e.priceRange)||void 0===t||null===(t=t.minVariantPrice)||void 0===t?void 0:t.amount)||0);case"maxPrice":return parseFloat((null===(a=e.priceRange)||void 0===a||null===(a=a.maxVariantPrice)||void 0===a?void 0:a.amount)||0);case"available":return e.availableForSale;case"featured_img":return(null===(r=e.featuredImage)||void 0===r?void 0:r.url)||d;case"secondary_img":return i>1&&(null===(n=e.images.nodes[1])||void 0===n?void 0:n.url)||d;case"last_img":return i&&(null===(o=e.images.nodes[i-1])||void 0===o?void 0:o.url)||d}}return i[l]},$t=e=>{let t=e.groupData;const a={},r=t.option_values.filter((e=>{const r=V.getKey({handleOrId:e.id,defaultLanguage:!1,detail:v}),n=V.getKey({handleOrId:e.id,defaultLanguage:!1,detail:_}),o=V.getData(r)||V.getData(n);if(null!=o&&o.id){a[`gid://shopify/Product/${e.id}`]=o;const r=t.option_values.findIndex((t=>t.id===e.id));return-1!==r&&(t.option_values[r]=bt(bt({},t.option_values[r]),{},{available:o.available,published:!0,published_at:o.publishedAt,compare_at_price:o.compareAtPriceRange})),!1}return!0})).map((e=>`gid://shopify/Product/${e.id}`));return{sessionStorageTranslatedHandles:a,untranslatedProductIds:r}};const kt=e=>{let t=e.optionTag,a=e.handle,r=encodeURIComponent(a);return"cdn"===window.vskData.app_setting.swatch_url_source&&(r=encodeURIComponent(r)),`https://${D.getSwatchUrlHost()}/apps/${window.vskData.swatch_dir}/${D.getStoreSlug()}/groups/${t.split("group")[1]}/${r}.media`};var Dt=e=>{let t=e.productGroupIndex,a=e.swatchesContainer,r=e.optionTag,n=e.groupData,s=e.productHandle,l=e.translatedHandles,c=void 0===l?null:l,d=e.productDataStore,u=!1;const p=n.option_name?n.option_name:"",h={available_count:0,name:P(p),untranslated_name:p,view_type_preset:wt({groupData:n,productDataStore:d}),product_group_index:t,data:[],show_price:!1};let g=0,m=(d.isProductGridInstance,null);if(0===m&&(g+=1),"hidden"!==h.view_type_preset.assoc_view_type){let e=null;const t=E();e=`${t.current_url}/products`;let a=!1;h.view_type_preset&&"invisible"===h.view_type_preset.params.stock_out_type&&(a=!0);const o=n.option_values.every((e=>!St({optionValue:e,translatedHandles:c,key:"available"})));for(let i=0;i<n.option_values.length;i+=1){const l=n.option_values[i],p=St({optionValue:l,translatedHandles:c,key:"minPrice"}),v=St({optionValue:l,translatedHandles:c,key:"maxPrice"});let w=St({optionValue:l,translatedHandles:c,key:"title"});const f=St({optionValue:l,translatedHandles:c,key:"handle"}),b=s===l.handle;l.available=St({optionValue:l,translatedHandles:c,key:"available"});const y=h.view_type_preset[`${d.instance}_swatch`],S="swatch"===h.view_type_preset.assoc_view_type||"swatch_drop_down"===h.view_type_preset.assoc_view_type;let $={src:"none"};const k={src:St({optionValue:l,translatedHandles:c,key:"featured_img"})},x={src:St({optionValue:l,translatedHandles:c,key:"secondary_img"})};if("first_product_image"===y?$.src=St({optionValue:l,translatedHandles:c,key:"featured_img"}):"second_product_image"===y?$.src=St({optionValue:l,translatedHandles:c,key:"secondary_img"}):"last_product_image"===y?$.src=St({optionValue:l,translatedHandles:c,key:"last_img"}):"custom_swatch"===y&&S&&($={src:kt({optionTag:r,handle:l.handle})}),null!=m&&(void 0===l.published||l.published)){if(m<=1&&!b&&(a&&l.available||!a||o)){g+=1;continue}!b&&(a&&l.available||!a||o)&&(m-=1)}if(void 0!==l.published&&!l.published||""===l.handle)continue;let O,A;if(l.option_value&&""!==l.option_value.trim()&&(w=P(l.option_value)),A=window.vskData.money_format?window.vskData.money_format.trim():t.money_format.trim(),D.isStorefront()?O=p&&v?p===v?Le(A,p):`${Le(A,p)}+`:Le(A,0):(O=l.min_price&&l.max_price?l.min_price===l.max_price?Le(A,100*l.min_price):`${Le(A,100*l.min_price)}+`:`${Le(A,100*l.price)}+`,void 0===l.available&&(l.available=!0)),h.data.push({value:w,original_value:w,featured_image:$,product_featured_image:k,product_secondary_image:x,available:l.available,url:`${e}/${f}`,selected:b,price:O,min_compare_at_price:l.compare_at_price?parseFloat(l.compare_at_price.minVariantPrice.amount):0,min_price:p,published_at:l.published_at}),l.available&&(h.available_count+=1),b&&(u=!0),D.isStorefront())h.show_price=!0;else{var _;const e=null===(_=window.Shopify)||void 0===_||null===(_=_.currency)||void 0===_?void 0:_.active;e&&window.vskData.currency===e&&window.vskData.primary_locale===E().current_language&&(h.show_price=!0)}}}let v="";if(v+=u?De({preset:h.view_type_preset,optionTag:r,option:h,productDataStore:d}):'<input type="hidden" value="Product group hidden or current product not present."/>',a.querySelector(`[option-target="${r}"]`).appendChild(ae(v)[0]),"smart_hide"===o.get(i).settings[d.instance].hide_single_value_option){let e=!1,t=null;const r=a.querySelectorAll("ul.swatch-view-image, ul.swatch-view-custom-image");Array.from(r).forEach(((a,n)=>{const o=1===a.children.length?a.closest("div[option-target]"):null;o?(o.classList.add("option-single-value"),null==t&&(t=o)):e=!0,!e&&t&&n===r.length-1&&t.classList.remove("option-single-value")}))}u&&("drop_down"===h.view_type_preset.assoc_view_type&&"label_inside"===h.view_type_preset.params.dropdown_type&&a.querySelectorAll("div.swatch-drop-down-inner [type='select']").forEach((e=>{We(e,h.view_type_preset.params.padding_left)})),"button"===h.view_type_preset.assoc_view_type&&(h.view_type_preset.params.full_width||h.view_type_preset.params.radio_button)&&a.querySelectorAll(".enable-price-alignment").forEach((e=>{(e=>{const t=e.querySelectorAll(".swatch-button-price");let a=0;t.forEach((e=>{const t=e.offsetWidth;t>a&&(a=t)})),t.forEach((e=>{e.style.width=`${a}px`}))})(e)})),(e=>{let t=e.viewTypePreset,a=e.optionTag,r=e.swatchesContainer,n=e.remainingProductsCount,o=e.productDataStore;const i=r.querySelector(`[option-target="${a}"] .swatch-group-selector[current-product]`);if(i){if(0!==n){const e=(e=>{let t=e.value,a=e.count,r=e.productDataStore;const n=oe(t);let o=de("collections").minified_template;o=o.replace(RegExp("{count}","gi"),a),o=o.replace(RegExp("{option_name}","gi"),n),o=o.replace(RegExp("{product_id}","gi"),r.infoTree.id),o=o.replace(RegExp("{product_handle}","gi"),r.infoTree.handle);let i=D.getRoutesRoot();return i&&""!==i&&(i=i.replace(/\/$/,"")),o=o.replace(RegExp("{routes_root}","gi"),i),ae(`<li class="swatch-view-item swatch-minified-text" orig-value="${t}">${o}</li>`)[0]})({value:i.closest("[option-name]").getAttribute("option-name"),count:n,productDataStore:o});i.closest("ul.swatch-view").appendChild(e)}if(Oe({optionTag:a,element:i,selectedValue:i.getAttribute("orig-value"),productDataStore:o}),"select_value"===i.getAttribute("type")){const e=i.closest("div.swatch-drop-down-inner").querySelector('div[type="select"]');e.style.minWidth&&"0px"!==e.style.minWidth||Qe(e),e.innerHTML=i.innerHTML,e.setAttribute("aria-label",i.innerText),e.setAttribute("aria-expanded",!1),i.parentNode.classList.add("swatch-hide")}const e=i.closest("[option-target]"),r=e.querySelector("span.swatch-variant-name");if(r){const t=i.getAttribute("data-value"),a=e.getAttribute("option-name");r&&a&&"empty"!==a.trim()&&"none"!==t&&(r.innerHTML=` <span class="swatch-split-symbol">${nt({isProductGridInstance:o.isProductGridInstance})}</span> ${t}`)}const s=i.closest(".swatch-navigable, variant-swatch-king"),l=i.closest(".swatch-view-stack, variant-swatch-king");if(s&&"VARIANT-SWATCH-KING"!==s.tagName){const e=i.closest("ul.swatch-view"),a=i.closest("li.swatch-view-item"),r=!!e&&a.offsetLeft>e.clientWidth;if(s){const e=i.closest(".swatch-navigable");Ye(e,t.params,t.assoc_view_type)}r&&(e.style.scrollBehavior="auto",e.scrollLeft=a.offsetLeft-a.offsetWidth,e.style.scrollBehavior="")}else if(l&&"VARIANT-SWATCH-KING"!==l.tagName){const e=i.closest(".swatch-view-stack");xe(e,t.params,t.assoc_view_type)}}})({viewTypePreset:h.view_type_preset,optionTag:r,swatchesContainer:a,remainingProductsCount:g,productDataStore:d}))},xt=e=>`\n        query productGroupsData {\n            product(id: "gid://shopify/Product/${e}") {\n                id\n                handle\n                metafield(namespace: "vsk", key: "group_data") {\n                    value\n                }\n            }\n        }\n    `;function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const At=(e,t,a,r)=>Object.entries(e).reduce(((n,o)=>{let i=(d=2,function(e){if(Array.isArray(e))return e}(c=o)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,i,s=[],l=!0,c=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=o.call(a)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(c,d)||function(e,t){if(e){if("string"==typeof e)return Ot(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ot(e,t):void 0}}(c,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=i[0],l=i[1];var c,d;const u=e.hasOwnProperty("products"),p=t[s]||(u?a[s]:s);return Array.isArray(l)?n[p]=l.map((e=>At(e,a,a,r))):n[p]="object"==typeof l&&null!==l?"group_display_name"===s||"product_display_name"===s?l[r]||null:At(l,t,a,r):l,n}),{});var Et=async e=>{let t=e.handle,a=e.productId;const r=await(async e=>{var t,a;let r=e.handle,n=e.productId;const o=V.getData(V.getKey({handleOrId:r,defaultLanguage:!0,detail:w}));if(null!=o&&null!==(t=o.data)&&void 0!==t&&t.length)return o;const i=await L({query:xt(n)}),s=null==i||null===(a=i.data)||void 0===a||null===(a=a.product)||void 0===a||null===(a=a.metafield)||void 0===a?void 0:a.value;if(!s)return[];const l=JSON.parse(s);return V.setData(V.getKey({handleOrId:r,defaultLanguage:!0,detail:w}),l),l})({handle:t,productId:a}),n={group_id:"id",group_name:"group_name",group_display_name:"option_name",product_page_style_id:"products_preset_id",product_page_swatch_source:"products_swatch",collection_page_style_id:"collections_preset_id",collection_page_swatch_source:"collections_swatch",group_display_position:"display_position",primary_locale:"primary_locale",products:"option_values"},o={id:"id",product_display_name:"option_value",handle:"handle",published:"published",product_position:"product_position",swatch_src:"swatch_src",swatch_value:"swatch_value"},i=[],s={};r.forEach((e=>{i.push(At(e,n,o,e.primary_locale))}));for(let e=0;e<i.length;e+=1)i[e].option_values.some((e=>e.handle===t))&&(s[t]?s[t].some((t=>t===e))||s[t].push(e):s[t]=[e]);return{productGroupsChart:s,productGroups:i}};function Pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function It(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(a),!0).forEach((function(t){jt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function jt(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Tt=e=>{let t=e.productsJson,a=e.untranslatedProductIds,r=e.translatedHandles,n=e.groupData;const o=t.data.nodes,i=t.extensions.context,s=i.country,l=i.language;a.forEach(((e,t)=>{const a=o[t],i=e.match(/\d+/)[0];if(r[e]=a,V.setData(V.getKey({handleOrId:i,defaultLanguage:!1,country:s,language:l,detail:_}),a),a){V.setData(V.getKey({handleOrId:a.handle,defaultLanguage:!1,detail:_}),a);const e=n.option_values.findIndex((e=>e.id===parseInt(i,10)));-1!==e&&(n.option_values[e]=It(It({},n.option_values[e]),{},{available:a.availableForSale,published:!0,published_at:a.publishedAt,compare_at_price:a.compareAtPriceRange}))}else n.option_values=n.option_values.filter((e=>e.id!==parseInt(i,10)))}))},Lt=async e=>{var a;let r=e.productDataStore;const n=r.infoTree,s=r.isProductGridInstance,l=r.pgInfo;if(void 0===window.starapps_data&&!f&&!b)return void setTimeout((()=>Lt({productDataStore:r})),250);if(!s&&t()&&(null===(a=window.vskData)||void 0===a||null===(a=a.app_setting_config)||void 0===a||null===(a=a.product_template)||void 0===a||!a.group_swatches))return;const c=E().not_default_language?n.untranslatedHandle:n.handle,d=await(e=>{let t=e.handle,a=e.productId;return f?gt.getGroupsAndGroupChart({handle:t}):b?Et({handle:t,productId:a}):{productGroupsChart:window.starapps_data.product_groups_chart,productGroups:window.starapps_data.product_groups}})({handle:c,productId:n.id}),u=d.productGroupsChart,p=d.productGroups,h=u[c],g=(e=>{let t=e.indexes,a=e.productGroups;const r=[];if(!a||!t)return r;for(let e=0;e<t.length;e+=1){const n=t[e];r.push(a[n])}return r})({indexes:h,productGroups:p});if(g.length<=0)return;const m=(e=>{var t;let a=e.productHandle,r=e.productDataStore;const n=document.querySelector("div[data-vsk-groups-priority]"),s=null==n||null===(t=n.dataset)||void 0===t?void 0:t.vskProductHandle,l=r.appBlockSwatchRootElement,c=r.swatchRootElement,d=r.instance;if(s===a){if(l)return l.querySelector(`.swatches.swatches-type-${d}`);let e=n;const t=document.createElement("variant-swatch-king"),a=o.get(i).configurations.products.swatch_position;return t.style.maxWidth="100%","before"===a?e.parentNode.insertBefore(t,e):"after"===a?e.parentNode.insertBefore(t,e.nextSibling):"top"===a?e.insertBefore(t,e.firstChild):e.appendChild(t),e=t,le({_content:se({productDataStore:r,isProductGroup:!0}),productDataStore:r,swatchRootElement:e}),r.appBlockSwatchRootElement=e,pt({productDataStore:r}),e.querySelector(`.swatches.swatches-type-${d}`)}return c.querySelector(`.swatches.swatches-type-${d}`)})({productHandle:c,productDataStore:r}),_={top:0,bottom:0},v={top:[],bottom:[]};g.forEach((async(e,t)=>{const a=`group${e.id}`;for(let t=0;t<v[e.display_position].length;t+=1){const a=v[e.display_position][t];if(e.group_name.toString()<a.group_name.toString()){_[e.display_position]=t;break}"top"===e.display_position?_[e.display_position]=t+1:"bottom"===e.display_position&&(_[e.display_position]=-1)}const n=e.option_name||"",o=`<div ${s?"":`id="swatch-${a}" `} option-name="${""!==n.trim()?n:"empty"}" option-target="${a}" type-group="true"></div>`;if("top"===e.display_position){const e=m.querySelector('[sa-group-position="top"]');e.querySelector(`[option-target="${a}"]`)||e.insertBefore(ae(o)[0],e.children[_.top])}else{const e=m.querySelector('[sa-group-position="bottom"]');if(!e.querySelector(`[option-target="${a}"]`)){const t=e.children.length-1-_.bottom;-1!==_.bottom?e.insertBefore(ae(o)[0],e.children[t]):e.append(ae(o)[0])}}let i={};const d=h[t];if(!l.selected_product_group||l.selected_product_group!==a){const t=$t({groupData:e}),a=t.sessionStorageTranslatedHandles,r=t.untranslatedProductIds;if(i=It({},a),r.length>0){const t=250;for(let a=0;a<r.length;a+=t){const n=r.slice(a,a+t);try{const t=await L({query:ht({untranslatedProductIds:n}),isOptions:!1});t?Tt({productsJson:t,groupData:e,untranslatedProductIds:n,translatedHandles:i}):console.error("Failed to fetch untranslated products data for groups")}catch(e){console.error("Error fetching untranslated products data for groups:",e)}}}}v[e.display_position].push(e),Dt({productGroupIndex:d,swatchesContainer:m,optionTag:a,groupData:e,productHandle:c,translatedHandles:i,productDataStore:r})}))};var Ct=Lt;function Vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(a),!0).forEach((function(t){Nt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Nt(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Rt=e=>{const t=document.querySelectorAll(e);t.forEach((e=>{void 0===e.vsk_initialized&&e.setAttribute("swatch-generated",!0)})),S.publish("productFullElements",t)},Mt=(()=>{let e=!1;return t=>{let a=t.productDataStore;pt({productDataStore:a}),e||(window.document.addEventListener("click",(e=>{let t=e.target;for(;t.hasAttribute("swatch-inside");)t=t.parentNode;const a=document.querySelectorAll("ul.swatch-drop-down-list:not(.swatch-hide)");for(let e=0;e<a.length;e+=1){const r=a[e],n=r.parentNode.querySelector('[type="select"]');t!==n&&(n.setAttribute("aria-expanded",!1),r.classList.add("swatch-hide"))}})),e=!0)}})(),Ft=(e,t)=>{!e.themeSupportConfig.deferred||D.isPageLoaded()?(t&&le({_content:se({productDataStore:e}),productDataStore:e}),Mt({productDataStore:e}),D.printLog({message:"Generating swatch UI...",error:!1})):setTimeout((()=>{Ft(e)}),250)},Gt=e=>{let t=e.productDataStore,a=e.swatchDisplayLocationFound;Ft(t,a);try{ut({productDataStore:t})}catch(e){console.error(e)}try{Ct({productDataStore:t})}catch(e){console.error(e)}},Ht=async e=>{var a,r,n;let d=e.element,u=e.isPrimarySection;d.vsk_initialized=!0;const p=((e,t)=>{const a=D.pathName();return t?a:(e=>{let t=null;if(t=e.matches&&e.matches(s)?e:e.querySelector(s),t){let e=null;return l.some((a=>!(!t.hasAttribute(a)||!t.getAttribute(a)||(e=t.getAttribute(a),0)))),D.extractProductHandle(e)}return null})(e)})(d,u);if(!p)return void D.printLog({message:"Could not find Product Full handle",error:!0});d.setAttribute("swatch-generated",p);const h=R(p),g=new et("products");g.productCardElement=d,g.doNotSelectAnOption=qt(qt({},window.vskData.app_setting_config.do_not_select_an_option),{},{count:0});const m=o.get(i),_=(e=>{let t=e.productConfigurations,a=e.productCardElement;const r=t.swatch_root.position??"bottom",n=t.swatch_root.selector;let o=a.querySelector(n);if(!o&&a.matches&&a.matches(n)&&(o=a),o){const e=document.createElement("variant-swatch-king");e.style.maxWidth="100%","before"===r?o.parentNode.insertBefore(e,o):"after"===r?o.parentNode.insertBefore(e,o.nextSibling):"top"===r?o.insertBefore(e,o.firstChild):o.appendChild(e),o=e}return o})({productConfigurations:null==m||null===(a=m.configurations)||void 0===a?void 0:a.products,type:"options",handle:p,productCardElement:d});let v=!1;_?v=!0:D.printLog({message:"We cannot find any swatch display location, please get in touch with us at support@starapps.studio",error:!0});const w=!g.isProductGridInstance&&t()&&(null===(r=window.vskData)||void 0===r||null===(r=r.app_setting_config)||void 0===r||null===(r=r.product_template)||void 0===r?void 0:r.variant_swatches);g.beautifyVariantPicker=w,g.swatchRootElement=_;const f=await h,b=null===(n=window.vskData)||void 0===n||null===(n=n.app_setting_config)||void 0===n?void 0:n.app_execution_strategy;if("all"!==b){var y,S;if("enabled_except"===b&&null!=f&&null!==(y=f.tags)&&void 0!==y&&y.includes("vsk_disable"))return void D.printLog("App won't run as vsk_disable is present in product tags with strategy enabled_except");if("disabled_except"===b&&(null==f||null===(S=f.tags)||void 0===S||!S.includes("vsk_enable")))return void D.printLog("App won't run as vsk_enable is not present in product tags with strategy disabled_except")}const $=await Y({product:f,productDataStore:g});Object.assign(g,$);let k=0;const x=setInterval((()=>{try{(e=>{var t,a,r;let n=e.productDataStore,s=e.swatchDisplayLocationFound,l=e.withException,d=void 0===l?null:l;const u=n.productCardElement,p=n.hasDefaultVariant,h=n.hasSingleVariant,g=o.get(i),m=null==g||null===(t=g.configurations)||void 0===t?void 0:t.products,_=null==m?void 0:m.theme_type;let v=null==m||null===(a=m.option_selectors)||void 0===a?void 0:a.trim();var w;if(p)return n.themeSupportConfig={option_selector:v,hide_elements:`${m.hide_elements}, ${v}`,key_mapping:{},index_strategy:null,deferred:null==g||null===(w=g.settings)||void 0===w||null===(w=w.products)||void 0===w?void 0:w.init_deferred},void Gt({productDataStore:n,swatchDisplayLocationFound:s});h&&D.isPageLoaded()&&d&&(v='[name="id"]');let f=null;const b=!!_;if(v){if(!u.querySelector(v))throw D.printLog({message:"Option selector was not found!",error:!1}),new Error("VSK:OptionSelectorNotFoundException");f={theme_type:b?_:"common",option_selector:v,hide_elements:"noelement"}}else for(let e=0;e<c.length;e+=1){const t=c[e];if(!b||t.theme_type===_){if(D.printLog({message:`theme_type(${_}) is defined, Looking for its selector...`,error:!1}),u.querySelector(t.option_selector)){f=t;break}if(e===c.length-1)throw new Error("VSK:OptionSelectorNotFoundException")}}if(!f)throw new Error("VSK:OptionSelectorNotFoundException");const y={option_selector:f.option_selector,hide_elements:`${f.hide_elements}, ${f.option_selector}`,deferred:!!f.deferred,key_mapping:{},index_strategy:null},S=null==g||null===(r=g.settings)||void 0===r?void 0:r.products;null!=S&&S.init_deferred&&(y.deferred=S.init_deferred),s&&(""!==m.selectors_to_hide_override?ne({selectors:m.selectors_to_hide_override,withParent:!1,productCardElement:u}):(ne({selectors:y.hide_elements,withParent:"common"===f.theme_type,productCardElement:u}),ne({selectors:m.selectors_to_hide,withParent:!1,productCardElement:u}))),n.themeSupportConfig=y,Gt({productDataStore:n,swatchDisplayLocationFound:s})})({productDataStore:g,swatchDisplayLocationFound:v,withException:k>0}),clearInterval(x)}catch(e){D.isPageLoaded()&&k>=3?clearInterval(x):D.isPageLoaded()&&"VSK:OptionSelectorNotFoundException"===e.message&&(k+=1)}}),250)};var zt=()=>({initializeAllElements:e=>{const t=1===e.length&&D.isProductPage();e.forEach((e=>{void 0===e.vsk_initialized&&Ht({element:e,isPrimarySection:t})}))},dissect:Rt});const Bt=(e,t)=>{setInterval((()=>{const t=document.querySelectorAll(e);t.forEach((e=>{void 0===e.vsk_initialized&&(e.vsk_initialized=!0,e.setAttribute("swatch-generated","none"))})),S.publish("productGridElements",t)}),t)};function Wt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(a),!0).forEach((function(t){Kt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Kt(e,t,a){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,"string");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Zt=zt(),Xt={initializeAllElements:e=>{},dissect:Bt};var Jt=()=>({dissect:e=>{let t=e.forProductFull,a=e.forProductGrid;const r=(()=>{const e=window.vskData.theme_settings,t=window.vskData.theme_settings_map;if(!e||!t)return null;const a=((e,t)=>{var a,r,n;const o=window.vskData.published_theme_setting,i=(null===(a=window.Shopify)||void 0===a||null===(a=a.theme)||void 0===a?void 0:a.id)??null;if(t[i])return t[i];console.warn("Swatch King App: Theme ID was not located in the app metafields for this theme, please contact support.");const s=(null===(r=window.Shopify)||void 0===r||null===(r=r.theme)||void 0===r?void 0:r.schema_name)??null;let l=Object.values(e).find((e=>e.schema_theme_names.includes(s)));if(l)return l.id;const c=(null===(n=window.Shopify)||void 0===n||null===(n=n.theme)||void 0===n?void 0:n.theme_store_id)??null;return l=Object.values(e).find((e=>e.theme_store_ids.includes(c))),l?l.id:(console.warn("Swatch King App: Theme configuration not found for this theme. Currently using the published theme configuration."),o)})(e,t);a||D.printLog({message:"Theme configuration not found for this theme, please contact support.",error:!0});const r=Ut({},e[a]);if(r){const e=window.vskData.block_collection_settings;e&&(r.settings.collections=Ut(Ut({},r.settings.collections),e))}return r})();if(o.set(i,r),!r)return;(e=>{let t=e.themeSettings;if(document.querySelector('style[app="vsk"][role="custom-css"]'))return;const a=t.custom_css,r=window.vskData.app_setting_config.size_chart.size_chart_app_css;if(!a&&!r)return;const n=document.createElement("style");n.innerHTML=`${a} ${r}`,n.setAttribute("role","custom-css"),n.setAttribute("app","vsk"),n.setAttribute("type","text/css"),document.head.appendChild(n)})({themeSettings:r}),(e=>{let t=e.themeSettings;if(document.querySelector('script[app="vsk"][role="custom-script"]'))return;const a=t.custom_scripts||[];if(0===a.length)return;let r="";for(let e=0;e<a.length;e+=1)r+=a[e].script;const n=document.createElement("script");n.innerHTML=r,n.setAttribute("role","custom-script"),n.setAttribute("app","vsk"),n.setAttribute("type","text/javascript"),document.head.appendChild(n)})({themeSettings:r});const n={productFull:r.configurations.products.swatch_root.section_selector,productGrid:r.configurations.collections.swatch_root_selector};if(n.productFull||D.printLog({message:"Product full selectors not found",error:!0}),n.productGrid||D.printLog({message:"VSK: Product grid selectors not found",error:!0}),t||a){if(t)try{Zt.dissect(n.productFull)}catch(e){D.printLog({message:`VSK: Error dissecting product full: ${e.message}`,error:!0})}if(a){const e=r.settings.collections.continuous_lookup;try{Xt.dissect(n.productGrid,e)}catch(e){D.printLog({message:`VSK: Error dissecting product grid: ${e.message}`,error:!0})}}}}});let Yt=!1;setInterval((()=>{(()=>{if(!(()=>{const e="VariantSwatchKingNew",t=RegExp("\\/collections\\/[^\\/]*(?=\\/products)|\\/$","gi"),a=window.location.pathname.replace(t,"");return(void 0===window[e]||window[e]!==a)&&(window[e]=a,!0)})())return;const e=zt(),a=t();a&&S.subscribe("productFullElements",(t=>e.initializeAllElements(t)));const r=Jt();r.dissect({forProductFull:a,forProductGrid:!1}),setInterval((()=>{r.dissect({forProductFull:a,forProductGrid:!1})}),1e3),Yt||document.addEventListener("vsk:product:refresh",(()=>{setTimeout((()=>{e.dissect(),D.printLog({message:"Refreshing product swatch lookup complete.",error:!1})}),0)})),Yt=!0})()}),500)}();